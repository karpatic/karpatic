<!DOCTYPE html><html><head>
                         <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.9/dc.min.css">
                         <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
                         <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
                         <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
                         <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.9/dc.min.js"></script>
                         </head><body><div id='pie'></div><div id='bar'></div><script>var data=[{"book":"A","scores":45},{"book":"B","scores":34},{"book":"C","scores":54},{"book":"D","scores":27},{"book":"E","scores":70},{"book":"F","scores":25},{"book":"G","scores":92},{"book":"H","scores":22},{"book":"I","scores":40},{"book":"J","scores":10},{"book":"K","scores":40}];var ndx=crossfilter(data);var bookDimension=ndx.dimension(function(d){return d.book;});var bookscoresGroup=bookDimension.group().reduceSum(function(d){return d.scores;});var coreCount=ndx.dimension(function(d){                   if (d.scores > 80*0.5) {                       return 'High';                   }                   else{                       return 'Low';                   }               });var coreCountGroup=coreCount.group();var all = ndx.groupAll();dc.pieChart('#pie').width(320).height(320).radius(120).innerRadius(40).dimension(coreCount).group(coreCountGroup).label(function(d){                       var label = d.key;                       if(all.value()){                           label += '(' + Math.floor(d.value/all.value()*100)+'%)';                       }                       return label;                   });dc.barChart('#bar').xAxisLabel('book_id').yAxisLabel('score').width(320).height(320).x(d3.scale.ordinal()).xUnits(dc.units.ordinal).dimension(bookDimension).group(bookscoresGroup).colors(['orange']);dc.renderAll()</script></body></html>