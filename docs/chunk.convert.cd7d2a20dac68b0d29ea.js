"use strict";(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[156],{162:function(e,t,l){l.r(t),l.d(t,{nb2json:function(){return nb2json}});var n=l(441),r=l(301);function makeDetails(e,t){return console.log("- makeDetails Running",e,t),"<details "+(t?"open":"")+"> <summary>Click to toggle</summary> "+e+"</details>"}function replaceEmojis(e){return e=(e=(e=(e=(e=(e=e.replaceAll("ðŸ™‚","&#1F642")).replaceAll("ðŸ˜³","&#128563")).replaceAll("â€ƒ","&#8195")).replaceAll("ðŸ‘·","&#128119")).replaceAll("ðŸ§¡","&#129505")).replaceAll("ðŸ’–","&#128150")}function convertNotes(e){let t=0;return e.replace(/(<p)(.*?)\(\(\((.*?)::(.*?)\)\)\)(.*?)(<\/p>)/g,((e,l,n,r,o,a,s)=>{t++;let i=`<label  tabindex="0" for='note${t}' class='notelbl'>[${t}]</label>`;return`<div>\n      <input type='checkbox' id='note${t}' class='notebox'>\n      ${l}${n}${i}${a}${s}\n      <aside>${i} ${o} </aside> \n    </div>`}))}function replaceAndLog(e,t,l){return e.replace(t,(function(e,t){return l.replace?.("$1",t)||l(e,t)}))}"undefined"!=typeof module&&module.exports&&(module.exports={makeDetails:makeDetails,replaceEmojis:replaceEmojis,convertNotes:convertNotes,replaceAndLog:replaceAndLog});let o=!1;async function nb2json(e){o=!1;let t=e;"undefined"!=typeof process&&(t=`http://localhost:8085/${e}.ipynb`);let l=await r(t,{headers:{"Content-Type":"application/json; charset=utf-8"}});const a=await l.json(),s=function get_metadata(e){const t={};for(const l of e.source)if(l.startsWith("#"))t.title=l.replaceAll("\n","").replaceAll("# ","",2);else if(l.startsWith(">"))t.summary=l.replaceAll("\n","").replaceAll("> ","",1);else if(l.startsWith("-")){const e=l.slice(l.indexOf("- ")+2,l.indexOf(": ")),n=l.slice(l.indexOf(": ")+2).replaceAll("\n","").trim();t[e]=n}return t}(a.cells[0]);s.filename=e.split("/")[e.split("/").length-1].toLowerCase().replaceAll(" ","_");let i=function convertNb(e,t){return e.map((e=>function cleanCell(e,t){let l;l="markdown"==e.cell_type?function processMarkdown(e){return e=e.replace(/\(\(\((.*?)::(.*?)\)\)\)/g,(function(e,t,l){return"note"==t?e:`<aside class="${t}">${l}</aside>`})),e=n.TU.parse(e),e=e.replace(/<li>(.*?)<\/li>/g,((e,t)=>`<li>${/<(p|div|blockquote|pre|hr|form)/.test(t)?`<div>${t}</div>`:`<p>${t}</p>`}</li>`)),e=replaceAndLog(e,/<pre><code>([\s\S]*?)<\/code><\/pre>/g,(()=>{o=!0})),e=replaceAndLog(e,/<a\s+(?:[^>]*?\s+)?href="(.*?)"/g,((e,t)=>(t.startsWith("./")||(e+=' onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow"'),e))),e=convertNotes(e),e}(e.source.join(" ")):function processCode(e,t){let l=[],n=[];if(e.source.length){let r=e.source;n=function getFlags(e){const t=["#collapse_input_open","#collapse_input","#collapse_output_open","#collapse_output","#hide_input","#hide_output","#hide","%%capture","%%javascript","%%html"],l=e.split(/\s+/);return t.filter((e=>l.includes(e)))}(r[0]),n.length>0&&(r=r.slice(1)),r=function processSource(e,t,l){for(let e of t){if(["#hide ","#hide_input","%%javascript","%%html","%%capture"].includes(e))return""}l.prettify&&(e=`<pre class='prettyprint'>${e}</pre>`);let n=t&&!!t.includes("#collapse_input_open");n&&console.log(t);for(let l of t)e=(e=e.replaceAll(l+"\r\n","")).replaceAll(l+"\n",""),"#collapse_input_open"==l?e=makeDetails(e,!0):"#collapse_input"==l&&(e=makeDetails(e,!1));return e}(r.join(" "),n,t),l.push(r)}if(e.outputs.length)for(let t of e.outputs)l.push(processOutput(t,n));return l}(e,t);return l}(e,t)))}(a.cells.slice(1),s).flat().join(" ");return(s.prettify||o)&&(i+='\n  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"><\/script>\n  <link rel="stylesheet" href="https://cdn.rawgit.com/google/code-prettify/master/styles/desert.css"/>\n  '),{meta:s,content:replaceEmojis(i)}}function processOutput(e,t){if("error"==e.output_type)return"";if("stream"==e.output_type){if("stderr"==e.name)return"";e.data={"text/html":e.text}}const l=Object.keys(e.data);l.includes("text/html")?e=(e=e.data["text/html"]).join(""):l.includes("application/javascript")?e="<script>"+e.data["application/javascript"]+"<\/script>":l.includes("image/png")?e='<img src="data:image/png;base64,'+e.data["image/png"]+"\" alt='Image Alt Text'>":l.includes("text/plain")&&(e=/<Figure/.test(e.data["text/plain"])?"":e.data["text/plain"]);for(let l of t){try{e=(e=e.replaceAll(l+"\r\n","")).replaceAll(l+"\n","")}catch{console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!processOutput... ",typeof e,e)}"#collapse_output_open"==l&&(e=makeDetails(e,!0)),"#collapse_output"==l&&(e=makeDetails(e,!1)),"#hide_output"==l&&(e=""),"#hide "==l&&(e="")}return e}}}]);