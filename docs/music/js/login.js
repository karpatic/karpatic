function showRegisterModal(){$("#loginModal").modal("hide"),$("#registerModal").modal("show")}function registerUser(){const e=document.getElementsByName("email")[0].value,t=document.getElementsByName("name")[0].value,o=document.getElementsByName("pass1")[0].value,s=document.getElementsByName("pass2")[0].value,n=document.getElementsByName("sendEmail")[0].checked;fetch("https://api.charleskarpati.com/music/register.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,username:t,password1:o,password2:s,sendEmail:n})}).then((e=>e.json())).then((e=>{const t=document.getElementById("registrationState");"success"===e.status?(t.textContent="Registration successful!",t.style.color="green",setTimeout((()=>{$("#registerModal").modal("hide")}),1e3)):(t.textContent="Registration failed: "+e.message,t.style.color="red")})).catch((e=>console.error("Error:",e)))}function loginUser(){const e=document.getElementsByName("UserNameInput")[0].value,t=document.getElementsByName("PassWordInput")[0].value;fetch("https://api.charleskarpati.com/music/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((e=>e.json())).then((e=>{const t=document.getElementById("loginState");"success"===e.status?(localStorage.setItem("user",JSON.stringify(e)),updateLogin(),t.textContent="Login successful!",t.style.color="green",setTimeout((()=>{$("#loginModal").modal("hide")}),1e3)):(t.textContent="Login failed. Please check your credentials.",t.style.color="red")})).catch((e=>console.error("Error:",e)))}function logoutUser(){localStorage.removeItem("user"),updateLogin()}function updateLoginLogoutButton(e){const t=document.getElementById("loginListItem"),o=document.getElementById("logoutListItem");e&&"success"===e.status?(t.style.display="none",o.style.display="block"):(t.style.display="block",o.style.display="none")}function updateLogin(){updateLoginLogoutButton(JSON.parse(localStorage.getItem("user")))}