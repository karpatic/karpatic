(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[233],{412:function(){window.w=window;const shorten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return e.trim().slice(0,t)+(e.length>t+1?"...":"")},capitalize=e=>e.replace(/\b\w/g,(e=>e.toUpperCase())),formatLink=e=>shorten(capitalize(e.replaceAll(" ","_").replace(/[^a-zA-Z_]/g,""))),displayLink=e=>shorten(capitalize(e.replaceAll("_"," ")),20);w.addEventListener("refreshTemplate",(async()=>{console.log("~~~~~~~~> refreshTemplate"),document.title=w.meta.title;const e=w.page_transition;!w.preRendering&&-1==location.href.indexOf("#")&&e?(e.style.animation="page_transition 1s alternate 2, gradient 1s alternate 2",e.addEventListener("animationend",(async()=>e.style.animation="none"),{once:!0}),setTimeout((async()=>populateTemplate()),1100)):populateTemplate()}),{passive:!0});const populateTemplate=async()=>{console.log("~~~~~~~~~~> populateTemplate"),meta.breadcrumbs=['<a href="./../index.html">Home</a>',location.pathname.split("/").slice(1).map(((e,t)=>"index"==(e=e.replace(".html",""))?"":`<a href=${create_url(e,w.sm_name)}.html>${capitalize(e.replace(".html",""))}</a>`)).join("/")].join("/"),["content","title","summary","breadcrumbs"].map((e=>{if(!meta[e])return;const t=document.getElementById(e);t.innerHTML="",t.appendChild(document.createRange().createContextualFragment(meta[e]))})),await createNav(),[...document.querySelectorAll("h2, h3, h4")].forEach((e=>{e.id=formatLink(e.innerText||e.textContent);let t=document.createElement("a");t.className="anchor",t.id=t.href="#"+e.id,t.setAttribute("aria-label","Link to "+e.id),t.setAttribute("onclick",`event?.preventDefault?.(); navigator.clipboard.writeText('https://charleskarpati.com${location.pathname+location.hash}'); w.toast?.();`),e.parentNode.insertBefore(t,e.nextSibling)})),w.expand&&(w.expand.style.display=document.getElementsByTagName("aside").length>0?"block":"none"),w.audio&&(w.audio.style.display=w.meta.audio?"flex":"none",w.audio.title=w.meta.audio,w.audio.querySelector("audio").src=w.meta.audio),loadObserver?.(),document.querySelectorAll("a").forEach((e=>{e.id=e.id||formatLink(e.innerText)+Math.floor(1e6*Math.random())})),document.querySelectorAll('a[href^="./"]').forEach((e=>[e.removeEventListener,e.addEventListener].forEach((t=>t.call(e,"click",redirect)))))},createNav=async()=>{console.log("~~~~~~~~~~~~> createNav: sitemap");let e=w.meta.tab||w.meta.filename;sitemapLabel=e=>e.tab||e.filename,console.log("\n\n",{currentTab:e,sitemap_content:w.sitemap_content});const t=w.meta.hide_sitemap;if(w.sitemap&&(w.sitemap.style.visibility=t?"hidden":"visible"),!w.sitemap||t)return;if(w.sitemap.innerHTML=`\n      <label tabindex="0" for="toggle_sitemap">\n          <span>&#x21e8;</span> Sitemap \n          <span>&#x2715;</span>\n      </label>\n      <hr/>\n      <div id='sitemap-content'>\n        <a id="link_Home" href="./../index.html" title="Home">Home</a>${w.sitemap_content.map((t=>`\n          <a id="${sitemapLabel(t)==e?"currentPage":"link_"+sitemapLabel(t)}" \n              id='link_${sitemapLabel(t)}' \n              href="${create_url(t.filename,w.sm_name)}.html" \n              title="${sitemapLabel(t)}">\n              ${displayLink(sitemapLabel(t))}\n          </a>`)).join("")} </div>`,!("toc"in w.meta)||"false"==w.meta.toc.toLowerCase())return;tocNode=document.createElement("div"),tocNode.setAttribute("id","toc"),tocNode.innerHTML=[...document.querySelectorAll("h2, h3, h4")].map((e=>{let t=e.innerText||e.textContent;const a=formatLink(t);return`${"&emsp;".repeat(e.tagName.slice(1)-1)}<a href='#${a}' title="${t}">${displayLink(a)}</a>`})).join("<br/>");const a=w.sitemap.querySelector(`a[title="${sitemapLabel(w.meta)}"]`);a?.parentNode.insertBefore(tocNode,a.nextSibling)};let create_url=(e,t)=>{let a=location.pathname.split("/").length>=3,n=e!=t;return`./${(a&&!n?"../":!a&&n&&t+"/")||""}${e}`};w.toast=()=>{let e=document.getElementById("toast_container");e.style.animation="toast 3s",e.addEventListener("animationend",(()=>{e.style.animation="none"}),{once:!0})}}}]);