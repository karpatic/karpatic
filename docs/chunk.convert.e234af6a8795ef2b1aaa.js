"use strict";(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[72],{720:function(e,t,n){n.r(t),n.d(t,{convertNb:function(){return convertNb},get_metadata:function(){return get_metadata},nb2json:function(){return nb2json}});var r=n(952);function makeDetails(e,t){return"<details "+(t?"open":"")+"> <summary>Click to toggle</summary> "+e+"</details>"}function convertNotes(e){return e=function createSpans(e){const t=[];e=e.replace(/<pre[\s\S]*?<\/pre>|<code[\s\S]*?<\/code>/g,(e=>`__CODE_${t.push(e)-1}__`));const buildAttrs=e=>{const t=e.match(/#([A-Za-z0-9_-]+)/),n=[...e.matchAll(/\.([A-Za-z0-9_-]+)/g)].map((e=>e[1]));return`${t?` id="${t[1]}"`:""}${n.length?` class="${n.join(" ")}"`:""}`};return e=e.replace(/\[([^\]]*?)\]\s*\{\s*([^}]*)\}/g,((e,t,n)=>`<span${buildAttrs(n)}>${t}</span>`)),e.replace(/__CODE_(\d+)__/g,((e,n)=>t[n]))}(e=function createInlineFootnotes(e){let t=0;return e.replace(/\^\[([\s\S]+?)\]/g,((e,n)=>{t++;const r=`<label tabindex="0" for="note${t}" class="notelbl">[${t}]</label>`;return`<span class="note">\n      <input type="checkbox" id="note${t}" class="notebox">\n      ${r}\n      <aside class="inline-note"> \n        ${r}\n        ${n}\n      </aside>\n    </span>`}))}(e=function createElement(e){const t=[];e=e.replace(/<pre[\s\S]*?<\/pre>|<code[\s\S]*?<\/code>/g,(e=>`__CODE_${t.push(e)-1}__`));const buildElement=(e,t)=>`<div${buildAttrs(e)}>${t.trim()}</div>`,buildAttrs=e=>{const t=e.match(/#([A-Za-z0-9_-]+)/),n=[...e.matchAll(/\.([A-Za-z0-9_-]+)/g)].map((e=>e[1]));return`${t?` id="${t[1]}"`:""}${n.length?` class="${n.join(" ")}"`:""}`};for(let t=6;t>0;t--){const n=":".repeat(t),r=new RegExp(`${n}\\s*{\\s*([^}]*)}\\s*([\\s\\S]*?)\\s*${n}`,"g");e=e.replace(r,((e,t,n)=>buildElement(t,n.trim())))}return e.replace(/__CODE_(\d+)__/g,((e,n)=>t[n]))}(e)))}function replaceAndLog(e,t,n){return e.replace(t,(function(e,t){return n.replace?.("$1",t)||n(e,t)}))}let l=!1,a=[];async function nb2json(e,t=!1){a=[],l=!1;let n=e;"undefined"==typeof process||e.startsWith("http")||(n=`http://localhost:8085/${e}.ipynb`);let r=await fetch(n,{headers:{"Content-Type":"application/json; charset=utf-8"}});const s=await r.json(),c=get_metadata(s.cells[0]);c.filename=e.split("/")[e.split("/").length-1].toLowerCase().replaceAll(" ","_");let o=convertNb(s.cells.slice(1),c,t).flat().join(" ");return t&&a.length,c.pyCode=a,(c.prettify||l)&&(o+='\n  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"><\/script>\n  <link rel="stylesheet" href="https://cdn.rawgit.com/google/code-prettify/master/styles/desert.css"/>\n  '),{meta:c,content:function replaceEmojis(e){return(e=(e=(e=(e=(e=e.replaceAll("ðŸ™‚","&#1F642")).replaceAll("ðŸ˜³","&#128563")).replaceAll("â€ƒ","&#8195")).replaceAll("ðŸ‘·","&#128119")).replaceAll("ðŸ§¡","&#129505")).replaceAll("ðŸ’–","&#128150")}(o)}}function get_metadata(e){const t={};for(const n of e.source)if(n.startsWith("#"))t.title=n.replaceAll("\n","").replaceAll("# ","",2);else if(n.startsWith(">"))t.summary=n.replaceAll("\n","").replaceAll("> ","",1);else if(n.startsWith("-")){const e=n.slice(n.indexOf("- ")+2,n.indexOf(": ")),r=n.slice(n.indexOf(": ")+2).replaceAll("\n","").trim();t[e]=r}return t}function convertNb(e,t,n=!1){n&&console.group("- convertNb Running");let s=e.map((e=>function cleanCell(e,t,n=!1){let s;s="markdown"==e.cell_type?function processMarkdown(e){let t=(0,r.xI)(e);return t=t.replace(/\s{2,}<\/p>/g,"</p><br>"),t=replaceAndLog(t,/<pre><code>([\s\S]*?)<\/code><\/pre>/g,((e,t)=>(l=!0,`<pre class='prettyprint'>${t}</pre>`))),t=replaceAndLog(t,/<code>([\s\S]*?)<\/code>/g,((e,t)=>(l=!0,`<pre class='prettyprint' style='display:inline'>${t}</pre>`))),t=replaceAndLog(t,/<a\s+(?:[^>]*?\s+)?href="(.*?)"/g,((e,t)=>(t.startsWith("./")||(e+=' target="_blank" rel="noopener noreferrer nofollow"'),e))),t=convertNotes(t),t}(e.source.join(" ")):function processCode(e,t,n=!1){let r=[],l=[];if(e.source.length){let n=e.source;l=function getFlags(e){const t=["#collapse_input_open","#collapse_input","#collapse_output_open","#collapse_output","#hide_input","#hide_output","#hide","%%capture","%%javascript","%%html","#export"],n=e.split(/\s+/);return t.filter((e=>n.includes(e)))}(n[0]),l.length>0&&(n=n.slice(1)),n=function processSource(e,t,n,r=!1){"#export"==t[t.length-1]&&a.push(e);for(let e of t){if(["#hide","#hide_input","%%javascript","%%html","%%capture"].includes(e))return""}n.prettify&&(e=`<pre class='prettyprint'>${e}</pre>`);let l=t&&!!t.includes("#collapse_input_open");if(l){for(let n of t)e=(e=e.replaceAll(n+"\r\n","")).replaceAll(n+"\n",""),"#collapse_input_open"==n?e=makeDetails(e,!0):"#collapse_input"==n&&(e=makeDetails(e,!1));return e}}(n.join(" "),l,t),r.push(n)}if(e.outputs.length)for(let t of e.outputs)r.push(processOutput(t,l));return r}(e,t,n);return s}(e,t,n)));return n&&console.groupEnd(),s}function processOutput(e,t,n=!1){if("error"==e.output_type)return"";if("stream"==e.output_type){if("stderr"==e.name)return"";e.data={"text/html":e.text}}const r=Object.keys(e.data);r.includes("text/html")?e=(e=e.data["text/html"]).join(""):r.includes("application/javascript")?e="<script>"+e.data["application/javascript"]+"<\/script>":r.includes("image/png")?e='<img src="data:image/png;base64,'+e.data["image/png"]+"\" alt='Image Alt Text'>":r.includes("text/plain")&&(e=/<Figure/.test(e.data["text/plain"])?"":e.data["text/plain"]);for(let n of t){try{e=(e=e.replaceAll(n+"\r\n","")).replaceAll(n+"\n","")}catch{}"#collapse_output_open"==n&&(e=makeDetails(e,!0)),"#collapse_output"==n&&(e=makeDetails(e,!1)),"#hide_output"==n&&(e=""),"#hide"==n&&(e="")}return e}}}]);