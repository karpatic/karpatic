(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[225],{39:function(){window.w=window;const shorten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return e.trim().slice(0,t)+(e.length>t+1?"...":"")},capitalize=e=>e.replace(/\b\w/g,(e=>e.toUpperCase())),formatLink=e=>shorten(capitalize(e.replaceAll(" ","_").replace(/[^a-zA-Z_]/g,""))),displayLink=e=>capitalize(e.replace(/^\d+/g,"").replaceAll("_"," ")),create_url=(e,t)=>{let a=location.pathname.split("/").length>=3,n=e!=t;return`./${(a&&!n?"../":!a&&n&&!!t&&t+"/")||""}${e}`};w.addEventListener("load_template",(async()=>{if(console.group("refresh_template:Event:LOAD_TEMPLATE"),w.meta.template||="article",meta.template!==document.body.getAttribute("data-template")){let e=`/templates/${meta.template}`;try{document.body.setAttribute("data-template",meta.template),document.body.innerHTML=await(await fetch(`${e}.html`)).text(),document.body.insertAdjacentHTML("beforeend",`<style>${await(await fetch(`${e}.css`)).text()}</style>`),Array.from(document.getElementsByTagName("script")).forEach((e=>{e.src;const t=document.createElement("script");["src","type","async","textContent"].forEach((a=>e[a]&&(t[a]=e[a]))),document.body.appendChild(t),e.parentNode.removeChild(e)}))}catch(e){}}let e=location.pathname.split("/")[1].replace(".html","")||"index";if(w.sitemap&&!w.meta.hide_sitemap){let t=!1;try{if(!w.sitemap_content){t=`${location.origin}/templates/${w.meta.template}_sitemap.css`;let e=await(await fetch(t)).text();document.body.insertAdjacentHTML("beforeend",`<style>${e}</style>`)}if(w.sm_name!=e){w.sm_name=e,t=`${location.origin}/posts/${sm_name}_map.json`,w.sitemap_content=await(await fetch(t)).json(),w.sitemap_content;let a=await(await fetch("https://carlos-a-diez.com/cms/sitemap.json")).json(),n=["food","life","history"];a=a.filter((e=>n.some((t=>e.filename.toLowerCase().startsWith(t))))),w.sitemap_content=[...w.sitemap_content,...a]}}catch(e){}}document.title=w.meta.title,console.groupEnd(),populateTemplate(!w.preRendering&&-1==location.href.indexOf("#"))}),{passive:!0});const populateTemplate=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=w.page_transition;return e&&t?(t.style.animation="page_transition 1s alternate 2, gradient 1s alternate 2",t.addEventListener("animationend",(async()=>t.style.animation="none"),{once:!0}),void setTimeout((async()=>{await populateTemplate()}),1100)):(console.group("refresh_template:POPULATE_TEMPLATE"),meta.breadcrumbs=['<a href="./../index.html">Home</a>',location.pathname.split("/").slice(1).map(((e,t)=>"index"==(e=e.replace(".html",""))?"":`<a href=${create_url(e,w.sm_name)}.html>${capitalize(e.replace(".html",""))}</a>`)).join("/")].join("/"),["content","title","summary","breadcrumbs"].map((e=>{if(!meta[e])return;const t=document.getElementById(e);t.innerHTML="",t.appendChild(document.createRange().createContextualFragment(meta[e]))})),await createNav(),[...document.querySelectorAll("h2, h3, h4")].forEach((e=>{e.id=formatLink(e.innerText||e.textContent);let t=document.createElement("a");t.className="anchor",t.id=t.href="#"+e.id,t.setAttribute("aria-label","Link to "+e.id),t.setAttribute("onclick",`event?.preventDefault?.(); navigator.clipboard.writeText('https://charleskarpati.com${location.pathname+location.hash}'); w.toast?.();`),e.parentNode.insertBefore(t,e.nextSibling)})),w.expand&&(w.expand.style.display=document.getElementsByTagName("aside").length>0?"block":"none"),w.audio&&(w.audio.style.display=w.meta.audio?"flex":"none",w.audio.title=w.meta.audio,w.audio.querySelector("audio").src=w.meta.audio),loadObserver?.(),document.querySelectorAll("a").forEach((e=>{e.id=e.id||formatLink(e.innerText)+Math.floor(1e6*Math.random())})),w.setRedirectListeners?.(),console.groupEnd(),!0)},createNav=async()=>{console.group("createNav");let e=w.meta.tab||w.meta.filename;lbl=e=>e.tab||e.filename;const t=w.meta.hide_sitemap;if(w.sitemap&&(w.sitemap.style.visibility=t?"hidden":"visible"),!w.sitemap||t)return void console.groupEnd();w.sitemap_content;let a=w.sitemap_content.map((t=>{let a=lbl(t);return`\n  <a id="${a==e?"currentPage":"link_"+a}"  \n      href="${create_url(t.filename,w.sm_name)}.html" \n      title="${a}">\n      ${shorten(displayLink(a),20)}\n  </a>`}));if(w.sitemap.innerHTML=`\n  <label tabindex="0" for="toggle_sitemap">\n      <span>&#x21e8;</span> Sitemap \n      <span>&#x2715;</span>\n  </label>\n  <hr/>\n  <div id='sitemap-content'>\n    <a id="link_Home" href="./../index.html" title="Home">Home</a>\n    ${a.join("")}\n  </div>`,document.getElementById("toggle_sitemap").checked=!0,!("toc"in w.meta)||"false"==w.meta.toc.toLowerCase())return void console.groupEnd();let n=w.tocHere||w.toc;n.innerHTML=[...document.querySelectorAll("h2, h3, h4")].map((e=>{let t=e.innerText||e.textContent;const a=formatLink(t);return`${"&emsp;".repeat(e.tagName.slice(1)-1)}<a href='#${a}' title="${t}">${displayLink(t)}</a>`})).join("<br/>"),console.groupEnd()};w.toast=()=>{let e=document.getElementById("toast_container");e.style.animation="toast 3s",e.addEventListener("animationend",(()=>{e.style.animation="none"}),{once:!0})}}}]);