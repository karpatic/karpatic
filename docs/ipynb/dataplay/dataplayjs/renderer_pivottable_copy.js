$.fn.heatmap=function(t,a){var n,i,r,e,o,u,l,h,s,c,p,d;switch(null==t&&(t="heatmap"),h=this.data("numrows"),l=this.data("numcols"),null==(n=null!=a&&null!=(s=a.heatmap)?s.colorScaleGenerator:void 0)&&(n=function(t){var a,n;return n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),function(t){var i;return"rgb(255,"+(i=255-Math.round(255*(t-n)/(a-n)))+","+i+")"}}),d=this,i=function(t){var a,i,r;return d.find(t),i=function(n){d.find(t).each((function(){var t=$(this).data("value");if(null!=t&&isFinite(t))if(1===n)r.push(t);else if(2===n){let n=a(t),i=$(this).css("background-color",n);return i}}))},r=[],i(1),a=n(r),i(2)},t){case"heatmap":i(".pvtVal");break;case"rowheatmap":for(r=o=0,c=h;0<=c?o<c:o>c;r=0<=c?++o:--o)i(".pvtVal.row"+r);break;case"colheatmap":for(e=u=0,p=l;0<=p?u<p:u>p;e=0<=p?++u:--u)i(".pvtVal.col"+e)}return this[0],this[0]},$.fn.barchart=function(t){var a,n,i,r,e,o;for(r=this.data("numrows"),this.data("numcols"),o=this,a=function(t){var a,n,i,r,e,u;return u=[],(a=function(a){return o.find(t).each((function(){var t;if(null!=(t=$(this).data("value"))&&isFinite(t))return a(t,$(this))}))})((function(t){return u.push(t)})),(n=Math.max.apply(Math,u))<0&&(n=0),r=n,(i=Math.min.apply(Math,u))<0&&(r=n-i),e=function(t){return 100*t/(1.4*r)},a((function(t,a){var n,r,o,u;return o=a.text(),u=$("<div>").css({position:"relative",height:"55px"}),r="gray",n=0,i<0&&(n=e(-i)),t<0&&(n+=e(t),r="darkred",t=-t),u.append($("<div>").css({position:"absolute",bottom:n+"%",left:0,right:0,height:e(t)+"%","background-color":r})),u.append($("<div>").text(o).css({position:"relative","padding-left":"5px","padding-right":"5px"})),a.css({padding:0,"padding-top":"5px","text-align":"center"}).html(u)}))},n=i=0,e=r;0<=e?i<e:i>e;n=0<=e?++i:--i)a(".pvtVal.row"+n);return a(".pvtTotal.colTotal"),this};