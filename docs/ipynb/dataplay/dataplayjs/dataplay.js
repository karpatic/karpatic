window.labels={},window.setMapping=function(i,e,n,l,o){let t=window.labels[i];t||={},t.mappings||=[],Object.keys(window.labels).forEach((l=>{window.labels[l].mappings=window.labels[l].mappings?.filter((o=>{if(o.vizid===e&&l!==i)return!1;o.vizid!==e||l===i&&(n||=o.viztype)}))})),t.mappings.push({label:i,vizid:e,viztype:n,rows:l,cols:o})},window.setMapping=function(i,e,n,l,o){let t=window.labels[i]||{};t.mappings=t.mappings||[];let w={};Object.keys(window.labels).forEach((n=>{window.labels[n].mappings=window.labels[n].mappings.filter((l=>l.vizid!=e||n==i&&(w=l,!1)))}));let s={label:i,vizid:e,viztype:n||(w.viztype||"Table"),rows:!1!==l?l:w.rows||"",cols:!1!==o?o:w.cols||""};t.mappings.push(s)},window.unsetMapping=function(i){Object.keys(window.labels).forEach((e=>window.labels[e].mappings=window.labels[e].mappings?.filter((e=>e.vizid!==i)))),document.getElementById(i)?.remove()},window.setData=function(i,e){window.labels[i]||={},window.labels[i].data=e},window.setVizType=function(i,e,n,l){window.labels?.forEach((o=>{o.mappings.forEach((t=>{t.vizid!==i&&o!=i||(t.vizType,!1!==e?t.viztype=e:t.viztype||(t.viztype="Table"),t.rows=!1!==n?n:t.rows??"",t.cols=!1!==l?l:t.cols??"")}))}))},window.update=function({label:i,vizid:e,viztype:n,ds:l,unset:o,rows:t,cols:w}={}){i?(l&&window.setData(i,l),window.setMapping(i,e||i,n,t,w),window.displayElements(i)):o?window.unsetMapping(e):window.setVizType(e,n,t,w)},window.DELETEdisplayElementsDELETE=function(i){window.labels[i],window.labels[i]?.mappings?.forEach((e=>{window.displayElement(window.labels[i].data,e.vizid||i,e.viztype,e.rows,e.cols)}))},window.displayElements=function(i){window.labels[i];let e=window.labels[i];if(e){let n=e.data,l=e.mappings;l&&l.length>0?l.forEach((e=>{window.displayElement(n,e.vizid||i,e.viztype,e.rows,e.cols)})):window.displayElement(n,i,"Table","","")}},window.displayElement=function(i,e=!1,n="Table",l="",o=""){e=e||"dataplayVisual"+Math.round(100*Math.random()).toString(),window.callPivot(i,e,l,o,n)},window.callPivot=function(i,e,n,l,o){let t="function"==typeof window.pivotUI,w=document.currentScript.parentElement,fn=()=>{let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,w.appendChild(t)),pivotUtilities,window.pivotUI(t,i,{rows:n,cols:l,rendererName:o,showUI:!0,renderers:Object.assign({},pivotUtilities.renderers)},!0)};t?fn():setTimeout((()=>{fn()}),5e3)};