(self.webpackChunkname=self.webpackChunkname||[]).push([[763],{257:function(e,t,n){const formatLink=e=>e.trim().replaceAll(" ","_").replace(/[^a-zA-Z_]/g,"").slice(0,12).replace(/\b\w/g,(e=>e.toUpperCase()))+(e.length>13?"...":"");window.toast=()=>{let e=document.getElementById("toast_container");e.style.animation="toast 3s",e.addEventListener("animationend",(()=>{e.style.animation="none"}),{once:!0})},window.addEventListener("refreshTemplate",(async()=>{document.querySelector('meta[name="robots"]')?.setAttribute("content",meta.robots||"index, follow");const populateTemplate=async()=>{console.log("POPULATING TEMPLATE",!!meta.breadcrumbs),meta.breadcrumbs&&(meta.breadcrumbs=meta.breadcrumbs.split("/").map((e=>`<a href="./${"home"==e?" ":e+".html"}">${e||" "}</a>`)).join(" / ")),["content","title","summary","breadcrumbs"].map((e=>(e=>{if(!meta[e])return;const t=document.getElementById(e);t.innerHTML="",t.appendChild(document.createRange().createContextualFragment(meta[e]))})(e))),function addTocToSiteMap(){window.currentPage?.removeAttribute("id");let e=document.getElementById("toc");e?.remove();const t=document.getElementById("sitemap").querySelector(`a[title="${window.meta.summary}"]`);if(t?.setAttribute("id","currentPage"),!("toc"in window.meta)||"true"!=window.meta.toc)return;let n=[...document.querySelectorAll("h2, h3, h4")].map((e=>{const t=formatLink(e.innerText||e.textContent);return`${"&emsp;".repeat(e.tagName.slice(1)-1)}<a href='#${t}'>${t.replaceAll("_"," ")}</a>`})).join("<br/>");e=document.createElement("div"),e.setAttribute("id","toc"),e.innerHTML=n,t.parentNode.insertBefore(e,t.nextSibling)}(),function addAnchorsToHeaders(){[...document.querySelectorAll("h2, h3, h4")].forEach((e=>{e.id=formatLink(e.innerText||e.textContent);let t=document.createElement("a");t.className="anchor",t.id=t.href="#"+e.id,t.setAttribute("aria-label","Link to "+e.id),t.setAttribute("onclick",`navigator.clipboard.writeText('https://charleskarpati.com${location.pathname+window.location.hash}'); window.toast?.();`),e.parentNode.insertBefore(t,e.nextSibling)}))}(),!navEvent&&({handleRoute:window.handleRoute,navEvent:window.navEvent}=await Promise.resolve().then(n.bind(n,751))),updateRedirectListeners(),loadObserver()},e=document.getElementById("page_transition");await(async()=>{if(loc=window.meta.sitemap,sm=window.sitemap,sm&&(sm.style.visibility=loc?"visible":"hidden"),!loc)return;let e=await(await fetch(`./posts/${loc}`)).json();window.lbl||=' \n        <label tabindex="0" for="toggle_sitemap">\n            <div id=\'drag\'>Drag me!</div>\n            <span>&#x21e8;</span> Sitemap <span>&#x2715;</span>\n        </label>\n        <hr/>',e=e.map((e=>`\n        <a id="${e.tab==window.meta.tab?"currentPage":"link_"+e.tab}" \n            id='link_${e.tab}' \n            href="./${e.filename}.html" \n            title="${e.summary}">\n            ${e.tab}\n        </a>`)),sm&&(sm.className=loc,sm.innerHTML=`${lbl}<div id='sitemap-content'>${e.join("")}</div>`)})(),window.newTemplate?(populateTemplate(),document.querySelectorAll("a").forEach((e=>{e.id=e.id||formatLink(e.innerText)+Math.floor(1e6*Math.random())}))):-1==window.location.href.indexOf("#")&&e&&(e.style.animation="page_transition 1s alternate 2, gradient 1s alternate 2",e.addEventListener("animationend",(()=>{e.style.animation="none"}),{once:!0}),setTimeout((async()=>{populateTemplate()}),1100))}),{passive:!0})}}]);