"use strict";(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[787],{85:function(e,o,t){t.r(o),t.d(o,{handleRoute:function(){return handleRoute},navEvent:function(){return navEvent}}),window.w=window;const navEvent=async()=>{console.log("~~~> navEvent");let e=location.href;(-1==e.indexOf("#")?()=>window.scrollTo({top:0,behavior:"smooth"}):()=>w[e.split("#")[1]]?.scrollIntoView({behavior:"smooth"}))(),e.split("#")[0]!=w.href?.split("#")[0]&&(await handleRoute(),w.href=e)},handleRoute=async()=>{if(console.log("~~~~~~> HANDLE_ROUTE"),location.pathname.includes("undefined"))return;w.meta||!isLocal&&registerServiceWorker(),w.toast||await t.e(233).then(t.t.bind(t,350,23));let e="/"==location.pathname?"index":location.pathname.replaceAll("./","").replaceAll("../","").replace(".html","").replace(/^\//,"").replace(/\/$/,""),o=!isLocal||preRendering?`${location.origin}/posts/${e}.json`:`../../ipynb/${e}.ipynb`,n={};try{console.log("~~~~~~> handleRoute:GET_CONTENT"),n=await(!isLocal||preRendering?await(async()=>(await fetch(o)).json())():(await(async()=>await Promise.all([t.e(393),t.e(156)]).then(t.bind(t,29)))()).nb2json(o))}catch(o){console.log("~~~~~~~~~> handleRoute:GET_CONTENT:ERROR",{givenPath:location.pathname,route:e}),"#reload"!=location.hash?(location.hash="reload",location.reload()):console.log(o)}w.oldMeta=w.meta,w.meta=n.meta,meta.content=n.content,w.dispatchEvent(new CustomEvent("load_template"))},registerServiceWorker=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/utils/service-worker.js");e.onupdatefound=()=>{const o=e.installing;o.onstatechange=()=>{"installed"==o.state&&(navigator.serviceWorker.controller?console.log("New content is available; Purge occurred. fresh content added to the cache. Refresh."):console.log("Content is cached for offline use."))}}}catch(e){console.error(`Registration failed with ${e}`)}}}}]);