(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[385],{385:function(e,s){!function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function n(s){e.defaults=s}e.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const s={exec:()=>null};function r(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l="string"==typeof e?e:e.source;const o={replace:(e,s)=>{let a="string"==typeof s?s:s.source;return a=a.replace(i.caret,"$1"),l=l.replace(e,a),o},getRegex:()=>new RegExp(l,s)};return o}const i={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},l=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,o=/(?:[*+-]|\d{1,9}[.)])/,a=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,c=r(a).replace(/bull/g,o).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),h=r(a).replace(/bull/g,o).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),p=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,u=/(?!\s*\])(?:\\.|[^\[\]\\])+/,g=r(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",u).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),k=r(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,o).getRegex(),d="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",f=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,x=r("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",f).replace("tag",d).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),b=r(p).replace("hr",l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d).getRegex(),w={blockquote:r(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",b).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:g,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:l,html:x,lheading:c,list:k,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:b,table:s,text:/^[^\n]+/},m=r("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d).getRegex(),y={...w,lheading:h,table:m,paragraph:r(p).replace("hr",l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",m).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d).getRegex()},$={...w,html:r("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",f).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:s,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:r(p).replace("hr",l).replace("heading"," *#{1,6} *[^\n]").replace("lheading",c).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},R=/^( {2,}|\\)\n(?!\s*$)/,S=/[\p{P}\p{S}]/u,T=/[\s\p{P}\p{S}]/u,z=/[^\s\p{P}\p{S}]/u,A=r(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,T).getRegex(),_=/(?!~)[\p{P}\p{S}]/u,P=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,I=r(P,"u").replace(/punct/g,S).getRegex(),L=r(P,"u").replace(/punct/g,_).getRegex(),C="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",v=r(C,"gu").replace(/notPunctSpace/g,z).replace(/punctSpace/g,T).replace(/punct/g,S).getRegex(),B=r(C,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,_).getRegex(),q=r("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,z).replace(/punctSpace/g,T).replace(/punct/g,S).getRegex(),E=r(/\\(punct)/,"gu").replace(/punct/g,S).getRegex(),Z=r(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),D=r(f).replace("(?:--\x3e|$)","--\x3e").getRegex(),M=r("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",D).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),O=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Q=r(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",O).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),N=r(/^!?\[(label)\]\[(ref)\]/).replace("label",O).replace("ref",u).getRegex(),j=r(/^!?\[(ref)\](?:\[\])?/).replace("ref",u).getRegex(),G={_backpedal:s,anyPunctuation:E,autolink:Z,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:R,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:s,emStrongLDelim:I,emStrongRDelimAst:v,emStrongRDelimUnd:q,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Q,nolink:j,punctuation:A,reflink:N,reflinkSearch:r("reflink|nolink(?!\\()","g").replace("reflink",N).replace("nolink",j).getRegex(),tag:M,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:s},H={...G,link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",O).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",O).getRegex()},X={...G,emStrongRDelimAst:B,emStrongLDelim:L,url:r(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},F={...X,br:r(R).replace("{2,}","*").getRegex(),text:r(X.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},U={normal:w,gfm:y,pedantic:$},J={normal:G,gfm:X,breaks:F,pedantic:H},K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V=e=>K[e];function W(e,s){if(s){if(i.escapeTest.test(e))return e.replace(i.escapeReplace,V)}else if(i.escapeTestNoEncode.test(e))return e.replace(i.escapeReplaceNoEncode,V);return e}function Y(e){try{e=encodeURI(e).replace(i.percentDecode,"%")}catch{return null}return e}function ee(e,s){const l=e.replace(i.findPipe,((e,s,i)=>{let l=!1,o=s;for(;--o>=0&&"\\"===i[o];)l=!l;return l?"|":" |"})).split(i.splitPipe);let o=0;if(l[0].trim()||l.shift(),l.length>0&&!l.at(-1)?.trim()&&l.pop(),s)if(l.length>s)l.splice(s);else for(;l.length<s;)l.push("");for(;o<l.length;o++)l[o]=l[o].trim().replace(i.slashPipe,"|");return l}function te(e,s,i){const l=e.length;if(0===l)return"";let o=0;for(;o<l&&e.charAt(l-o-1)===s;)o++;return e.slice(0,l-o)}function ne(e,s,i,l,o){const a=s.href,c=s.title||null,h=e[1].replace(o.other.outputLinkReplace,"$1");if("!"!==e[0].charAt(0)){l.state.inLink=!0;const e={type:"link",raw:i,href:a,title:c,text:h,tokens:l.inlineTokens(h)};return l.state.inLink=!1,e}return{type:"image",raw:i,href:a,title:c,text:h}}class se{options;rules;lexer;constructor(s){this.options=s||e.defaults}space(e){const s=this.rules.block.newline.exec(e);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(e){const s=this.rules.block.code.exec(e);if(s){const e=s[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?e:te(e,"\n")}}}fences(e){const s=this.rules.block.fences.exec(e);if(s){const e=s[0],i=function(e,s,i){const l=e.match(i.other.indentCodeCompensation);if(null===l)return s;const o=l[1];return s.split("\n").map((e=>{const s=e.match(i.other.beginningSpace);if(null===s)return e;const[l]=s;return l.length>=o.length?e.slice(o.length):e})).join("\n")}(e,s[3]||"",this.rules);return{type:"code",raw:e,lang:s[2]?s[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):s[2],text:i}}}heading(e){const s=this.rules.block.heading.exec(e);if(s){let e=s[2].trim();if(this.rules.other.endingHash.test(e)){const s=te(e,"#");this.options.pedantic?e=s.trim():s&&!this.rules.other.endingSpaceChar.test(s)||(e=s.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const s=this.rules.block.hr.exec(e);if(s)return{type:"hr",raw:te(s[0],"\n")}}blockquote(e){const s=this.rules.block.blockquote.exec(e);if(s){let e=te(s[0],"\n").split("\n"),i="",l="";const o=[];for(;e.length>0;){let s=!1;const a=[];let c;for(c=0;c<e.length;c++)if(this.rules.other.blockquoteStart.test(e[c]))a.push(e[c]),s=!0;else{if(s)break;a.push(e[c])}e=e.slice(c);const h=a.join("\n"),p=h.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}\n${h}`:h,l=l?`${l}\n${p}`:p;const u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=u,0===e.length)break;const g=o.at(-1);if("code"===g?.type)break;if("blockquote"===g?.type){const s=g,a=s.raw+"\n"+e.join("\n"),c=this.blockquote(a);o[o.length-1]=c,i=i.substring(0,i.length-s.raw.length)+c.raw,l=l.substring(0,l.length-s.text.length)+c.text;break}if("list"!==g?.type);else{const s=g,a=s.raw+"\n"+e.join("\n"),c=this.list(a);o[o.length-1]=c,i=i.substring(0,i.length-g.raw.length)+c.raw,l=l.substring(0,l.length-s.raw.length)+c.raw,e=a.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:i,tokens:o,text:l}}}list(e){let s=this.rules.block.list.exec(e);if(s){let i=s[1].trim();const l=i.length>1,o={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const a=this.rules.other.listItemRegex(i);let c=!1;for(;e;){let i=!1,l="",h="";if(!(s=a.exec(e)))break;if(this.rules.block.hr.test(e))break;l=s[0],e=e.substring(l.length);let p=s[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],g=!p.trim(),k=0;if(this.options.pedantic?(k=2,h=p.trimStart()):g?k=s[1].length+1:(k=s[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,h=p.slice(k),k+=s[1].length),g&&this.rules.other.blankLine.test(u)&&(l+=u+"\n",e=e.substring(u.length+1),i=!0),!i){const s=this.rules.other.nextBulletRegex(k),i=this.rules.other.hrRegex(k),o=this.rules.other.fencesBeginRegex(k),a=this.rules.other.headingBeginRegex(k),c=this.rules.other.htmlBeginRegex(k);for(;e;){const d=e.split("\n",1)[0];let f;if(u=d,this.options.pedantic?(u=u.replace(this.rules.other.listReplaceNesting,"  "),f=u):f=u.replace(this.rules.other.tabCharGlobal,"    "),o.test(u))break;if(a.test(u))break;if(c.test(u))break;if(s.test(u))break;if(i.test(u))break;if(f.search(this.rules.other.nonSpaceChar)>=k||!u.trim())h+="\n"+f.slice(k);else{if(g)break;if(p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(p))break;if(a.test(p))break;if(i.test(p))break;h+="\n"+u}g||u.trim()||(g=!0),l+=d+"\n",e=e.substring(d.length+1),p=f.slice(k)}}o.loose||(c?o.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(c=!0));let d,f=null;this.options.gfm&&(f=this.rules.other.listIsTask.exec(h),f&&(d="[ ] "!==f[0],h=h.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:l,task:!!f,checked:d,loose:!1,text:h,tokens:[]}),o.raw+=l}const h=o.items.at(-1);if(!h)return;h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const s=o.items[e].tokens.filter((e=>"space"===e.type)),i=s.length>0&&s.some((e=>this.rules.other.anyLine.test(e.raw)));o.loose=i}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const s=this.rules.block.html.exec(e);if(s)return{type:"html",block:!0,raw:s[0],pre:"pre"===s[1]||"script"===s[1]||"style"===s[1],text:s[0]}}def(e){const s=this.rules.block.def.exec(e);if(s){const e=s[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=s[2]?s[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):s[3];return{type:"def",tag:e,raw:s[0],href:i,title:l}}}table(e){const s=this.rules.block.table.exec(e);if(!s)return;if(!this.rules.other.tableDelimiter.test(s[2]))return;const i=ee(s[1]),l=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=s[3]?.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:s[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const e of l)this.rules.other.tableAlignRight.test(e)?a.align.push("right"):this.rules.other.tableAlignCenter.test(e)?a.align.push("center"):this.rules.other.tableAlignLeft.test(e)?a.align.push("left"):a.align.push(null);for(let e=0;e<i.length;e++)a.header.push({text:i[e],tokens:this.lexer.inline(i[e]),header:!0,align:a.align[e]});for(const e of o)a.rows.push(ee(e,a.header.length).map(((e,s)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:a.align[s]}))));return a}}lheading(e){const s=this.rules.block.lheading.exec(e);if(s)return{type:"heading",raw:s[0],depth:"="===s[2].charAt(0)?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(e){const s=this.rules.block.paragraph.exec(e);if(s){const e="\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const s=this.rules.block.text.exec(e);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(e){const s=this.rules.inline.escape.exec(e);if(s)return{type:"escape",raw:s[0],text:s[1]}}tag(e){const s=this.rules.inline.tag.exec(e);if(s)return!this.lexer.state.inLink&&this.rules.other.startATag.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:s[0]}}link(e){const s=this.rules.inline.link.exec(e);if(s){const e=s[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;const s=te(e.slice(0,-1),"\\");if((e.length-s.length)%2==0)return}else{const e=function(e,s){if(-1===e.indexOf(s[1]))return-1;let i=0;for(let l=0;l<e.length;l++)if("\\"===e[l])l++;else if(e[l]===s[0])i++;else if(e[l]===s[1]&&(i--,i<0))return l;return-1}(s[2],"()");if(e>-1){const i=(0===s[0].indexOf("!")?5:4)+s[1].length+e;s[2]=s[2].substring(0,e),s[0]=s[0].substring(0,i).trim(),s[3]=""}}let i=s[2],l="";if(this.options.pedantic){const e=this.rules.other.pedanticHrefTitle.exec(i);e&&(i=e[1],l=e[3])}else l=s[3]?s[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(i=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?i.slice(1):i.slice(1,-1)),ne(s,{href:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i,title:l?l.replace(this.rules.inline.anyPunctuation,"$1"):l},s[0],this.lexer,this.rules)}}reflink(e,s){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const e=s[(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){const e=i[0].charAt(0);return{type:"text",raw:e,text:e}}return ne(i,e,i[0],this.lexer,this.rules)}}emStrong(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=this.rules.inline.emStrongLDelim.exec(e);if(l&&(!l[3]||!i.match(this.rules.other.unicodeAlphaNumeric))&&(!l[1]&&!l[2]||!i||this.rules.inline.punctuation.exec(i))){const i=[...l[0]].length-1;let o,a,c=i,h=0;const p="*"===l[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,s=s.slice(-1*e.length+i);null!=(l=p.exec(s));){if(o=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!o)continue;if(a=[...o].length,l[3]||l[4]){c+=a;continue}if((l[5]||l[6])&&i%3&&!((i+a)%3)){h+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+h);const s=[...l[0]][0].length,p=e.slice(0,i+l.index+s+a);if(Math.min(i,a)%2){const e=p.slice(1,-1);return{type:"em",raw:p,text:e,tokens:this.lexer.inlineTokens(e)}}const u=p.slice(2,-2);return{type:"strong",raw:p,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(e){const s=this.rules.inline.code.exec(e);if(s){let e=s[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(e),l=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return i&&l&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:s[0],text:e}}}br(e){const s=this.rules.inline.br.exec(e);if(s)return{type:"br",raw:s[0]}}del(e){const s=this.rules.inline.del.exec(e);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(e){const s=this.rules.inline.autolink.exec(e);if(s){let e,i;return"@"===s[2]?(e=s[1],i="mailto:"+e):(e=s[1],i=e),{type:"link",raw:s[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let s;if(s=this.rules.inline.url.exec(e)){let e,i;if("@"===s[2])e=s[0],i="mailto:"+e;else{let l;do{l=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])?.[0]??""}while(l!==s[0]);e=s[0],i="www."===s[1]?"http://"+s[0]:s[0]}return{type:"link",raw:s[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const s=this.rules.inline.text.exec(e);if(s){const e=this.lexer.state.inRawBlock;return{type:"text",raw:s[0],text:s[0],escaped:e}}}}class re{tokens;options;state;tokenizer;inlineQueue;constructor(s){this.tokens=[],this.tokens.links=Object.create(null),this.options=s||e.defaults,this.options.tokenizer=this.options.tokenizer||new se,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const l={other:i,block:U.normal,inline:J.normal};this.options.pedantic?(l.block=U.pedantic,l.inline=J.pedantic):this.options.gfm&&(l.block=U.gfm,this.options.breaks?l.inline=J.breaks:l.inline=J.gfm),this.tokenizer.rules=l}static get rules(){return{block:U,inline:J}}static lex(e,s){return new re(s).lex(e)}static lexInline(e,s){return new re(s).inlineTokens(e)}lex(e){e=e.replace(i.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const s=this.inlineQueue[e];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(this.options.pedantic&&(e=e.replace(i.tabCharGlobal,"    ").replace(i.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some((l=>!!(i=l.call({lexer:this},e,s))&&(e=e.substring(i.raw.length),s.push(i),!0))))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const l=s.at(-1);1===i.raw.length&&void 0!==l?l.raw+="\n":s.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const l=s.at(-1);"paragraph"===l?.type||"text"===l?.type?(l.raw+="\n"+i.raw,l.text+="\n"+i.text,this.inlineQueue.at(-1).src=l.text):s.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const l=s.at(-1);"paragraph"===l?.type||"text"===l?.type?(l.raw+="\n"+i.raw,l.text+="\n"+i.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),s.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),s.push(i);continue}let o=e;if(this.options.extensions?.startBlock){let s=1/0;const i=e.slice(1);let l;this.options.extensions.startBlock.forEach((e=>{l=e.call({lexer:this},i),"number"==typeof l&&l>=0&&(s=Math.min(s,l))})),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){const a=s.at(-1);l&&"paragraph"===a?.type?(a.raw+="\n"+i.raw,a.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):s.push(i),l=o.length!==e.length,e=e.substring(i.raw.length)}else if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const l=s.at(-1);"text"===l?.type?(l.raw+="\n"+i.raw,l.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):s.push(i)}else if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,s}inline(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:s}),s}inlineTokens(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=e,l=null;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(l=this.tokenizer.rules.inline.reflinkSearch.exec(i));)e.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(l=this.tokenizer.rules.inline.anyPunctuation.exec(i));)i=i.slice(0,l.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(l=this.tokenizer.rules.inline.blockSkip.exec(i));)i=i.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,a="";for(;e;){let l;if(o||(a=""),o=!1,this.options.extensions?.inline?.some((i=>!!(l=i.call({lexer:this},e,s))&&(e=e.substring(l.raw.length),s.push(l),!0))))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const i=s.at(-1);"text"===l.type&&"text"===i?.type?(i.raw+=l.raw,i.text+=l.text):s.push(l);continue}if(l=this.tokenizer.emStrong(e,i,a)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),s.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),s.push(l);continue}let c=e;if(this.options.extensions?.startInline){let s=1/0;const i=e.slice(1);let l;this.options.extensions.startInline.forEach((e=>{l=e.call({lexer:this},i),"number"==typeof l&&l>=0&&(s=Math.min(s,l))})),s<1/0&&s>=0&&(c=e.substring(0,s+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),"_"!==l.raw.slice(-1)&&(a=l.raw.slice(-1)),o=!0;const i=s.at(-1);"text"===i?.type?(i.raw+=l.raw,i.text+=l.text):s.push(l)}else if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return s}}class ie{options;parser;constructor(s){this.options=s||e.defaults}space(e){return""}code(e){let{text:s,lang:l,escaped:o}=e;const a=(l||"").match(i.notSpaceStart)?.[0],c=s.replace(i.endingNewline,"")+"\n";return a?'<pre><code class="language-'+W(a)+'">'+(o?c:W(c,!0))+"</code></pre>\n":"<pre><code>"+(o?c:W(c,!0))+"</code></pre>\n"}blockquote(e){let{tokens:s}=e;return`<blockquote>\n${this.parser.parse(s)}</blockquote>\n`}html(e){let{text:s}=e;return s}heading(e){let{tokens:s,depth:i}=e;return`<h${i}>${this.parser.parseInline(s)}</h${i}>\n`}hr(e){return"<hr>\n"}list(e){const s=e.ordered,i=e.start;let l="";for(let s=0;s<e.items.length;s++){const i=e.items[s];l+=this.listitem(i)}const o=s?"ol":"ul";return"<"+o+(s&&1!==i?' start="'+i+'"':"")+">\n"+l+"</"+o+">\n"}listitem(e){let s="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=i+" "+W(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):s+=i+" "}return s+=this.parser.parse(e.tokens,!!e.loose),`<li>${s}</li>\n`}checkbox(e){let{checked:s}=e;return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){let{tokens:s}=e;return`<p>${this.parser.parseInline(s)}</p>\n`}table(e){let s="",i="";for(let s=0;s<e.header.length;s++)i+=this.tablecell(e.header[s]);s+=this.tablerow({text:i});let l="";for(let s=0;s<e.rows.length;s++){const o=e.rows[s];i="";for(let e=0;e<o.length;e++)i+=this.tablecell(o[e]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),"<table>\n<thead>\n"+s+"</thead>\n"+l+"</table>\n"}tablerow(e){let{text:s}=e;return`<tr>\n${s}</tr>\n`}tablecell(e){const s=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+s+`</${i}>\n`}strong(e){let{tokens:s}=e;return`<strong>${this.parser.parseInline(s)}</strong>`}em(e){let{tokens:s}=e;return`<em>${this.parser.parseInline(s)}</em>`}codespan(e){let{text:s}=e;return`<code>${W(s,!0)}</code>`}br(e){return"<br>"}del(e){let{tokens:s}=e;return`<del>${this.parser.parseInline(s)}</del>`}link(e){let{href:s,title:i,tokens:l}=e;const o=this.parser.parseInline(l),a=Y(s);if(null===a)return o;let c='<a href="'+(s=a)+'"';return i&&(c+=' title="'+W(i)+'"'),c+=">"+o+"</a>",c}image(e){let{href:s,title:i,text:l}=e;const o=Y(s);if(null===o)return W(l);let a=`<img src="${s=o}" alt="${l}"`;return i&&(a+=` title="${W(i)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:W(e.text)}}class le{strong(e){let{text:s}=e;return s}em(e){let{text:s}=e;return s}codespan(e){let{text:s}=e;return s}del(e){let{text:s}=e;return s}html(e){let{text:s}=e;return s}text(e){let{text:s}=e;return s}link(e){let{text:s}=e;return""+s}image(e){let{text:s}=e;return""+s}br(){return""}}class oe{options;renderer;textRenderer;constructor(s){this.options=s||e.defaults,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new le}static parse(e,s){return new oe(s).parse(e)}static parseInline(e,s){return new oe(s).parseInline(e)}parse(e){let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions?.renderers?.[o.type]){const e=o,s=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==s||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){i+=s||"";continue}}const a=o;switch(a.type){case"space":i+=this.renderer.space(a);continue;case"hr":i+=this.renderer.hr(a);continue;case"heading":i+=this.renderer.heading(a);continue;case"code":i+=this.renderer.code(a);continue;case"table":i+=this.renderer.table(a);continue;case"blockquote":i+=this.renderer.blockquote(a);continue;case"list":i+=this.renderer.list(a);continue;case"html":i+=this.renderer.html(a);continue;case"paragraph":i+=this.renderer.paragraph(a);continue;case"text":{let o=a,c=this.renderer.text(o);for(;l+1<e.length&&"text"===e[l+1].type;)o=e[++l],c+="\n"+this.renderer.text(o);i+=s?this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):c;continue}default:{const e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}parseInline(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderer,i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions?.renderers?.[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=e||"";continue}}const a=o;switch(a.type){case"escape":case"text":i+=s.text(a);break;case"html":i+=s.html(a);break;case"link":i+=s.link(a);break;case"image":i+=s.image(a);break;case"strong":i+=s.strong(a);break;case"em":i+=s.em(a);break;case"codespan":i+=s.codespan(a);break;case"br":i+=s.br(a);break;case"del":i+=s.del(a);break;default:{const e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}}class ae{options;block;constructor(s){this.options=s||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?re.lex:re.lexInline}provideParser(){return this.block?oe.parse:oe.parseInline}}class ce{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=oe;Renderer=ie;TextRenderer=le;Lexer=re;Tokenizer=se;Hooks=ae;constructor(){this.use(...arguments)}walkTokens(e,s){let i=[];for(const l of e)switch(i=i.concat(s.call(this,l)),l.type){case"table":{const e=l;for(const l of e.header)i=i.concat(this.walkTokens(l.tokens,s));for(const l of e.rows)for(const e of l)i=i.concat(this.walkTokens(e.tokens,s));break}case"list":{const e=l;i=i.concat(this.walkTokens(e.items,s));break}default:{const e=l;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((l=>{const o=e[l].flat(1/0);i=i.concat(this.walkTokens(o,s))})):e.tokens&&(i=i.concat(this.walkTokens(e.tokens,s)))}}return i}use(){const e=this.defaults.extensions||{renderers:{},childTokens:{}};for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return i.forEach((s=>{const i={...s};if(i.async=this.defaults.async||i.async||!1,s.extensions&&(s.extensions.forEach((s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const i=e.renderers[s.name];e.renderers[s.name]=i?function(){for(var e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];let a=s.renderer.apply(this,l);return!1===a&&(a=i.apply(this,l)),a}:s.renderer}if("tokenizer"in s){if(!s.level||"block"!==s.level&&"inline"!==s.level)throw new Error("extension level must be 'block' or 'inline'");const i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&("block"===s.level?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:"inline"===s.level&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)})),i.extensions=e),s.renderer){const e=this.defaults.renderer||new ie(this.defaults);for(const i in s.renderer){if(!(i in e))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const l=i,o=s.renderer[l],a=e[l];e[l]=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];let c=o.apply(e,i);return!1===c&&(c=a.apply(e,i)),c||""}}i.renderer=e}if(s.tokenizer){const e=this.defaults.tokenizer||new se(this.defaults);for(const i in s.tokenizer){if(!(i in e))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const l=i,o=s.tokenizer[l],a=e[l];e[l]=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];let c=o.apply(e,i);return!1===c&&(c=a.apply(e,i)),c}}i.tokenizer=e}if(s.hooks){const e=this.defaults.hooks||new ae;for(const i in s.hooks){if(!(i in e))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const l=i,o=s.hooks[l],a=e[l];ae.passThroughHooks.has(i)?e[l]=s=>{if(this.defaults.async)return Promise.resolve(o.call(e,s)).then((s=>a.call(e,s)));const i=o.call(e,s);return a.call(e,i)}:e[l]=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];let c=o.apply(e,i);return!1===c&&(c=a.apply(e,i)),c}}i.hooks=e}if(s.walkTokens){const e=this.defaults.walkTokens,l=s.walkTokens;i.walkTokens=function(s){let i=[];return i.push(l.call(this,s)),e&&(i=i.concat(e.call(this,s))),i}}this.defaults={...this.defaults,...i}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,s){return re.lex(e,s??this.defaults)}parser(e,s){return oe.parse(e,s??this.defaults)}parseMarkdown(e){return(s,i)=>{const l={...i},o={...this.defaults,...l},a=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===l.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==s)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof s)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const c=o.hooks?o.hooks.provideLexer():e?re.lex:re.lexInline,h=o.hooks?o.hooks.provideParser():e?oe.parse:oe.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then((e=>c(e,o))).then((e=>o.hooks?o.hooks.processAllTokens(e):e)).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>h(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(a);try{o.hooks&&(s=o.hooks.preprocess(s));let e=c(s,o);o.hooks&&(e=o.hooks.processAllTokens(e)),o.walkTokens&&this.walkTokens(e,o.walkTokens);let i=h(e,o);return o.hooks&&(i=o.hooks.postprocess(i)),i}catch(e){return a(e)}}}onError(e,s){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+W(i.message+"",!0)+"</pre>";return s?Promise.resolve(e):e}if(s)return Promise.reject(i);throw i}}}const he=new ce;function pe(e,s){return he.parse(e,s)}pe.options=pe.setOptions=function(e){return he.setOptions(e),pe.defaults=he.defaults,n(pe.defaults),pe},pe.getDefaults=t,pe.defaults=e.defaults,pe.use=function(){return he.use(...arguments),pe.defaults=he.defaults,n(pe.defaults),pe},pe.walkTokens=function(e,s){return he.walkTokens(e,s)},pe.parseInline=he.parseInline,pe.Parser=oe,pe.parser=oe.parse,pe.Renderer=ie,pe.TextRenderer=le,pe.Lexer=re,pe.lexer=re.lex,pe.Tokenizer=se,pe.Hooks=ae,pe.parse=pe;const ue=pe.options,ge=pe.setOptions,ke=pe.use,de=pe.walkTokens,fe=pe.parseInline,xe=pe,be=oe.parse,we=re.lex;e.Hooks=ae,e.Lexer=re,e.Marked=ce,e.Parser=oe,e.Renderer=ie,e.TextRenderer=le,e.Tokenizer=se,e.getDefaults=t,e.lexer=we,e.marked=pe,e.options=ue,e.parse=xe,e.parseInline=fe,e.parser=be,e.setOptions=ge,e.use=ke,e.walkTokens=de}(s)}}]);