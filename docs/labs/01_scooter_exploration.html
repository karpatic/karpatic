<!DOCTYPE html><html lang="en" dir="ltr"><head id="head"><meta charset="UTF-8"><title>Scooter Exploration</title><link rel="license" href="https://opensource.org/licenses/MIT"><link rel="canonical" href="https://Scooter Exploration.com/labs/01_scooter_exploration"><link rel="icon" type="image/ico" sizes="16x16" href="data:image/x-icon;base64,AAABAAEAEBACAAEAAQCLAAAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAQAAAAEAgGAAAAH/P/YQAAAFJJREFUOI1jZGj5/58BO2CE0v/xiTHh0Ew0oNgAFjQ+I1ZVtHQBOQagBDqpBqDHGCMlXmAkxwUYgBID/pNjAHo0/yfHBSiGUD0lYss4eMHAZyYAshIJp1L2luYAAAAASUVORK5CYII="><meta http-equiv="Content-Security-Policy" content="img-src * data:; connect-src *;"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><meta name="author" content="Charles Karpati"><meta name="description" content="My personal site and portfolio"><meta name="theme-color" content="#0080f0"><meta name="robots" content="index, follow"><meta property="og:url" content="http://www.Scooter Exploration.com/labs/01_scooter_exploration"><meta property="og:title" content="Scooter Exploration"><meta property="og:description" content="In this chapter Scooter data is explored "><meta property="og:type" content="city"><meta property="og:site_name" content="CharlesKarpati.com"><meta property="og:locale" content="en_US"><meta property="op:markup_version" content="v1.0"><meta property="fb:article_style" content="default"><meta property="og:image" content="/images/icon300.png"><meta name="twitter:card" content="In this chapter Scooter data is explored "><meta name="twitter:site" content="@cvminigames"><meta name="twitter:creator" content="@cvminigames"><style>:root{--canvas:227,227,232;--background:209,209,250;--foreground:240,240,255;--near-black:0,72,72;--near-white:226,226,238;--max-width:min(800px,100vw)}*{box-sizing:border-box;font-family:Georgia,TimesNewRoman,Times,Times New Roman,serif;position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}html{font-size:1.125em;line-height:1.625em}body{background:linear-gradient(180deg,#e3e3e8,#e3e3e8);background:linear-gradient(180deg,rgba(var(--canvas)),rgba(var(--canvas)));margin:0;overflow-x:hidden}::-moz-selection{background:#d1d1fa;background:rgb(var(--background))}::selection{background:#d1d1fa;background:rgb(var(--background))}h1,h2{text-align:center;text-shadow:none;transition:all .3s ease-in-out}h2:hover{text-shadow:1px 1px 45px #004848;text-shadow:1px 1px 45px rgb(var(--near-black));transition:all .4s ease-in-out}h1,h2,h3,h4{color:#004848;color:rgb(var(--near-black));font-weight:600}h3,h4{font-size:1.25em}a{color:#004848;color:rgb(var(--near-black))}summary:hover .anchor:after{content:"🔗";height:.8em}.anchor{left:0;position:absolute}#sitemap-content>a,.anchor{text-decoration:none}input{clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;width:1px}a:before,input{position:absolute}a:before{background-color:#d1d1fa;background-color:rgb(var(--background));content:"";height:0;left:0;transition:all .3s ease-in-out;width:100%;z-index:-1}a:hover:before{bottom:0;height:8px;height:100%}span{font-family:inherit}p{word-break:break-word}li p{margin-bottom:0;margin-top:0}pre{background:#d1d1fa;background:rgb(var(--background));line-height:1.2em;max-width:calc(min(800px,100vw) - 70px);max-width:calc(var(--max-width) - 70px);overflow:auto;padding:12px}blockquote{background-color:#d1d1fa;background-color:rgb(var(--background));border-left:8px solid #f0f0ff;border-left:8px solid rgb(var(--foreground));font-style:italic;margin:32px 24px;padding:12px 5px 1px;position:relative}blockquote:before{color:#f0f0ff;color:rgb(var(--foreground));content:"“";font-size:4em;left:10px;padding-top:6px;position:absolute;top:-12px}ul{padding:0}ul ul{padding-left:10px}ul>li{display:flex;list-style-type:none}ul>li:before{content:"-";margin-right:10px}.details details:nth-child(odd),details details:nth-child(2n),details:nth-child(odd){background:rgba(209,209,250,.4);background:rgba(var(--background),.4)}.details details:nth-child(2n),details details:nth-child(odd){background:rgba(227,227,232,.4);background:rgba(var(--canvas),.4)}details>summary{list-style:none;position:relative}details>summary:before{content:"⇨";display:inline-block;margin-right:8px;transition:transform .3s ease}details[open]>summary:before{transform:rotate(90deg)}details>summary>*{display:inline}summary{cursor:pointer;font-size:1.25em;padding:12px 0;text-align:center}hr{border-top:1px solid rgba(0,72,72,.1);border-top:1px solid rgba(var(--near-black),.1);margin:1px 1px 10px}</style><style>:root{--radial1:radial-gradient(at 52%,at 13%,#a0c3f3 0px,transparent 50%),radial-gradient(at 40%,at 33%,#9be8df 0px,transparent 50%),radial-gradient(at 15%,at 92%,#63fdd9 0px,transparent 50%),radial-gradient(at 97%,at 78%,#889dfb 0px,transparent 50%),radial-gradient(at 19%,at 52%,#fea862 0px,transparent 50%),radial-gradient(at 68%,at 16%,#f29cba 0px,transparent 50%),radial-gradient(at 25%,at 1%,#5cb3e6 0px,transparent 50%);--radial1:radial-gradient(at 52% 13%,#a0c3f3 0px,transparent 50%),radial-gradient(at 40% 33%,#9be8df 0px,transparent 50%),radial-gradient(at 15% 92%,#63fdd9 0px,transparent 50%),radial-gradient(at 97% 78%,#889dfb 0px,transparent 50%),radial-gradient(at 19% 52%,#fea862 0px,transparent 50%),radial-gradient(at 68% 16%,#f29cba 0px,transparent 50%),radial-gradient(at 25% 1%,#5cb3e6 0px,transparent 50%);--filterdropshadowover:drop-shadow(4px 4px 10px rgb(var(--foreground)));--filterdropshadowunder:drop-shadow(4px -4px 1px rgb(var(--background)));--path1:path("M 0 0 L 0 2 L 0 0");--path2:0;--bgheader:linear-gradient(70deg,rgba(var(--background),0.5),rgba(var(--foreground),0.5),rgba(var(--background),0.5));--bgfooter:linear-gradient(70deg,rgba(var(--background),0.6),rgba(var(--foreground),0.6),rgba(var(--background),0.6))}h1>a::-moz-selection{color:rgb(var(--near-black))}h1>a::selection{color:rgb(var(--near-black))}h1>a{animation:gradient 5s ease infinite;background:linear-gradient(90deg,rgb(var(--near-black)),rgba(var(--near-black),.4),rgb(var(--near-black)),rgba(var(--near-black),.4));-webkit-background-clip:text;background-clip:text;background-size:300% 100%;color:transparent}@keyframes gradient{0%{background-position:0 0}50%{background-position:100% 100%}to{background-position:0 0}}h2{filter:url(#header)}#header{margin:60px auto 30px;padding:12px;text-align:center;width:-moz-fit-content;width:fit-content;z-index:9}#header_bg_wrapper{filter:drop-shadow(4px 4px 10px rgb(var(--foreground)));filter:var(--filterdropshadowover);height:100%;position:absolute;top:0;width:100%}#header_bg{animation:spin-header 1s linear infinite alternate;background:linear-gradient(70deg,rgba(var(--background),.5),rgba(var(--foreground),.5),rgba(var(--background),.5));background:var(--bgheader);border-radius:50px;-webkit-clip-path:polygon(33% 38%,0 43%,0 0,100% 0,100% 43%,66% 38%,66% 46%,100% 60%,100% 100%,0 100%,0 60%,33% 46%);clip-path:polygon(33% 38%,0 43%,0 0,100% 0,100% 43%,66% 38%,66% 46%,100% 60%,100% 100%,0 100%,0 60%,33% 46%);height:100%;transition-duration:2s;width:100%}#header:hover #header_bg{-webkit-clip-path:polygon(0 15%,15% 15%,15% 0,85% 0,85% 15%,100% 15%,100% 85%,85% 85%,85% 100%,15% 100%,15% 85%,0 85%);clip-path:polygon(0 15%,15% 15%,15% 0,85% 0,85% 15%,100% 15%,100% 85%,85% 85%,85% 100%,15% 100%,15% 85%,0 85%)}@keyframes spin-header{0%{transform:rotate(-4deg)}to{transform:rotate(4deg)}}@keyframes wiggle{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}.controls_container{flex-wrap:wrap;justify-content:space-between;margin:0 auto 30px;padding:0 25px}#footer,.controls_container{align-items:flex-end;display:flex;width:min(100vw,800px)}#footer{height:200px;justify-content:center;margin:30px auto 0}#thanks{color:rgb(var(--near-black));font-size:1.25em;padding:10px;text-align:center}#thanks a{font-size:.75em}#footer_bg_wrapper{filter:drop-shadow(4px -4px 1px rgb(var(--background)));filter:var(--filterdropshadowunder);height:100%;position:absolute;top:0;width:100%;z-index:-1}#footer_bg{background:linear-gradient(70deg,rgba(var(--background),.6),rgba(var(--foreground),.6),rgba(var(--background),.6));background:var(--bgfooter);height:100%;width:100%}#content{margin:auto;max-width:var(--max-width)}#content img{max-width:-webkit-fill-available}#content>*,details>details{margin:0;padding:12px 0 12px 16px}details>details{border-left:1px solid rgb(var(--near-black))}@media only screen and (max-width:769px){#content>*,details>details{padding-right:2px}#content{border-width:28px 0 28px 8px}#head_separator{display:none}.notebox:checked+aside{align-items:flex-end;flex-direction:column-reverse}#breadcrumbs{padding-bottom:10px}}.twitter-tweet{margin:auto}#expand,#light,.notelbl{cursor:pointer}#light:before{content:"🌜 Dark mode";display:block}html[\:has\(\%23lightmode\:checked\)]{filter:invert(100%)}html:has(#lightmode:checked){filter:invert(100%)}html[\:has\(\%23lightmode\:checked\)] #light:before{content:"🌞 Light mode"}html:has(#lightmode:checked) #light:before{content:"🌞 Light mode"}#audio{align-items:center;display:flex;margin:0 0 0 -7px}audio{height:40px;margin-left:-6px}audio::-webkit-media-controls-panel{background:rgba(var(--background),.5)}#audio>span{border-radius:50%;display:inline-block;height:40px;margin-right:5px;overflow:hidden;width:40px}.notelbl{color:rgb(var(--near-black))}aside{background:rgb(var(--canvas));border-width:medium;border-bottom:0 solid rgb(var(--near-black));border-left:2px solid rgb(var(--near-black));border-radius:7% 7% 0 0;border-right:2px solid rgb(var(--near-black));border-top:10px solid rgb(var(--near-black));box-shadow:2px 2px 4px rgba(0,0,0,.5);margin:auto;padding:20px;z-index:1}.notebox,aside{display:none}.info,.tip,.warning{align-items:center;border:#000;border-radius:5% 5% 5% 5%;color:rgb(var(--near-white));display:flex}.info>*,.tip>*,.warning>*{display:inline}.info a,.tip a,.warning a{color:rgb(var(--near-white))}aside.info:before,aside.tip:before,aside.warning:before{display:inline-block;font-size:1.5em;margin:10px 20px}aside.tip:before{content:"💡"}aside.info:before{content:"ℹ️"}aside.warning:before{content:"⚠️"}aside.tip{background:rgba(var(--near-black),1)}aside.info{background:#087abb}aside.warning{background:#8b0000}.notebox:checked+p+aside{display:block}.notebox:checked+p+aside>.notelbl:after{content:" [X]"}#expand:before{content:"➕ Expand notes"}body[\:has\(\%23expandmode\:checked\)] #expand:before{content:"➖ Collapse notes"}body:has(#expandmode:checked) #expand:before{content:"➖ Collapse notes"}body[\:has\(\%23expandmode\:checked\)] aside{display:block}body:has(#expandmode:checked) aside{display:block}#toast_container{bottom:15%;display:flex;justify-content:center;position:fixed;transform:scale(0);width:100vw;z-index:1}#toast_container>p{background:rgb(var(--near-black));border-radius:50px;color:rgb(var(--foreground));padding:10px;width:-moz-fit-content;width:fit-content}@keyframes toast{0%{transform:scale(0)}20%{transform:scale(1)}80%{transform:scale(1)}to{transform:scale(0)}}#page_transition{align-items:center;background:radial-gradient(at 52%,at 13%,#a0c3f3 0,transparent 50%),radial-gradient(at 40%,at 33%,#9be8df 0,transparent 50%),radial-gradient(at 15%,at 92%,#63fdd9 0,transparent 50%),radial-gradient(at 97%,at 78%,#889dfb 0,transparent 50%),radial-gradient(at 19%,at 52%,#fea862 0,transparent 50%),radial-gradient(at 68%,at 16%,#f29cba 0,transparent 50%),radial-gradient(at 25%,at 1%,#5cb3e6 0,transparent 50%);background:radial-gradient(at 52% 13%,#a0c3f3 0,transparent 50%),radial-gradient(at 40% 33%,#9be8df 0,transparent 50%),radial-gradient(at 15% 92%,#63fdd9 0,transparent 50%),radial-gradient(at 97% 78%,#889dfb 0,transparent 50%),radial-gradient(at 19% 52%,#fea862 0,transparent 50%),radial-gradient(at 68% 16%,#f29cba 0,transparent 50%),radial-gradient(at 25% 1%,#5cb3e6 0,transparent 50%);background:var(--radial1);background-size:100% 200%;border-radius:50px;color:rgb(var(--near-black));display:flex;font-size:1.25em;height:100%;justify-content:center;left:50%;opacity:0;overflow:hidden;position:fixed;top:50%;transform:translate(-50%,-50%) scale(0);width:100%;z-index:100}@keyframes page_transition{0%{opacity:1;transform:translate(-50%,-50%) scale(0)}70%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}</style><link rel="preconnect" href="https://cdn.rawgit.com"><link rel="preconnect" href="https://mybinder.org"><link rel="preconnect" href="https://pete88b.github.io"><link rel="preconnect" href="http://img.shields.io"><link rel="preconnect" href="https://badges.frapsoft.com"><link rel="preconnect" href="https://img.shields.io"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://static.mybinder.org"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/prettify.css"></head><body data-template="article"><input type="checkbox" checked="checked" id="toggle_sitemap" aria-label="sitemap"><div id="sitemap" style="visibility:visible"><label tabindex="0" for="toggle_sitemap"><span>⇨</span> Sitemap <span>✕</span></label><hr><div id="sitemap-content"><a id="link_Home" href="./../index.html" title="Home">Home</a> <a id="link_00_labs" href="./../labs.html" title="00_labs">00 Labs </a><a id="currentPage" href="./01_scooter_exploration.html" title="01_scooter_exploration">01 Scooter Explorati... </a><a id="link_02_211_web_scraper" href="./02_211_web_scraper.html" title="02_211_web_scraper">02 211 Web Scraper </a><a id="link_04_wordclouds" href="./04_wordclouds.html" title="04_wordclouds">04 Wordclouds </a><a id="link_05_amivi_meetup" href="./05_amivi_meetup.html" title="05_amivi_meetup">05 Amivi Meetup </a><a id="link_07_nb_2_html_tests" href="./07_nb_2_html_tests.html" title="07_nb_2_html_tests">07 Nb 2 Html Tests </a><a id="link_08_apis" href="./08_apis.html" title="08_apis">08 Apis </a><a id="link_09_looking_at_data" href="./09_looking_at_data.html" title="09_looking_at_data">09 Looking At Data </a><a id="link_10_satellltes" href="./10_satellltes.html" title="10_satellltes">10 Satellltes</a></div></div><div id="page_transition"><p>Don't Look! I'm changing!</p></div><div id="toast_container"><p>URL Copied</p></div><div id="header"><div id="header_bg_wrapper"><div id="header_bg"></div></div><h1><a href="./../index.html" id="Charles_Karp...432480">Charles Karpati</a> <span id="head_separator">| </span><a href="#title" id="title">Scooter Exploration</a></h1><p id="summary">In this chapter Scooter data is explored</p></div><div class="controls_container"><div id="breadcrumbs"><a href="./../index.html" id="Home615251">Home</a>/<a href="./../labs.html" id="Labs377986">Labs</a>/<a href="./01_scooter_exploration.html" id="_scooter_exp...629282">01_scooter_exploration</a></div><div><label for="lightmode" id="light"><input type="checkbox" id="lightmode" aria-label="lightmode"></label> <label for="expandmode" id="expand" style="display:block"><input type="checkbox" id="expandmode" aria-label="expandmode"></label><p id="audio" title="undefined" style="display:none"><span><audio controls="" controlslist="nodownload noplaybackrate" preload="none" loop="" src="undefined"></audio></span>Musical loops</p></div></div><div id="content"><details open=""><summary style="animation:.5s ease-in-out 0s 2 normal none running wiggle"><h2 id="Introduction">Introduction</h2><a class="anchor" href="#Introduction" id="#Introduction" aria-label="Link to Introduction" onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><p><a href="https://mybinder.org/v2/gh/karpatic/karpatic/main?filepath=src%2Fipynb%2Fdatalabs%2F01_scooter_exploration.ipynb" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="975030"><img src="https://mybinder.org/badge_logo.svg" alt="Binder"></a><a href="https://colab.research.google.com/github/karpatic/karpatic/blob/main/src/ipynb/datalabs/01_scooter_exploration.ipynb" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="773603"><img src="https://pete88b.github.io/fastpages/assets/badges/colab.svg" alt="Binder"></a><a href="https://github.com/karpatic/karpatic/blob/main/src/ipynb/datalabs/01_scooter_exploration.ipynb" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="698238"><img src="https://pete88b.github.io/fastpages/assets/badges/github.svg" alt="Binder"></a><a href="https://github.com/ellerbrock/open-source-badges/" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="948050"><img src="https://badges.frapsoft.com/os/v3/open-source.svg?v=103" alt="Open Source Love svg3"></a></p><p><a href="https://github.com/karpatic/karpatic/blob/main/LICENSE" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="283500"><img src="https://img.shields.io/npm/l/all-contributors.svg?style=flat" alt="NPM License"></a><a href="https://karpatic.github.io" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="384805"><img src="http://img.shields.io/badge/Status-Active-green.svg" alt="Active"></a><a href="" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="654233"><img src="https://img.shields.io/github/last-commit/karpatic/karpatic.svg?style=flat" alt="GitHub last commit"></a></p><p><a href="https://github.com/karpatic/karpatic" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="198208"><img src="https://img.shields.io/github/stars/karpatic/karpatic.svg?style=social&amp;label=Star" alt="GitHub stars"></a><a href="https://github.com/karpatic/karpatic" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="511941"><img src="https://img.shields.io/github/watchers/karpatic/karpatic.svg?style=social&amp;label=Watch" alt="GitHub watchers"></a><a href="https://github.com/karpatic/karpatic" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="87467"><img src="https://img.shields.io/github/forks/karpatic/karpatic.svg?style=social&amp;label=Fork" alt="GitHub forks"></a><a href="https://github.com/karpatic/karpatic" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="704187"><img src="https://img.shields.io/github/followers/karpatic.svg?style=social&amp;label=Follow" alt="GitHub followers"></a></p><aside class="info"><p>This notebook was made in part by interns Brian Kelly, Michael Vandi. Read their final article <a href="https://bniajfi.org/2021/02/08/social-media-alert-system-for-covid-19-illicit-behavior/" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="An_Analysis_...659327">An Analysis of Baltimore City E-Scooter Distribution</a></p></aside><p><strong>Dataset:</strong> Scooter data:</p><ul><li><p>Routes: 3 months (September to August 2019)</p></li><li><p>Deployment/</p></li><li><p>Routes</p></li><li><p>Trip origins-destinations by month</p></li></ul></details><details><summary style=""><h2 id="Local_File_A...">Local File Access (Optional)</h2><a class="anchor" href="#Local_File_A..." id="#Local_File_A..." aria-label="Link to Local_File_A..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="com"># (Optional) Run this cell to gain access to Google Drive (Colabs only) </span><span class="pln">
 </span><span class="kwd">from</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">colab </span><span class="kwd">import</span><span class="pln"> drive
 
 </span><span class="com"># Colabs operates in a virtualized enviornment</span><span class="pln">
 </span><span class="com"># Colabs default directory is at ~/content.</span><span class="pln">
 </span><span class="com"># We mount Drive into a temporary folder at '~/content/drive' </span><span class="pln">
 
 drive</span><span class="pun">.</span><span class="pln">mount</span><span class="pun">(</span><span class="str">'/content/drive'</span><span class="pun">)</span></pre><p>File path's will vary</p><pre class="prettyprint prettyprinted" style=""><span class="com"># cd ./drive/'My Drive'/BNIA/'Scooter Use Data'/BNIA</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pun">!</span><span class="pln"> ls</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pun">!</span><span class="pln">cd </span><span class="pun">../</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ls</span></pre></details><details><summary style=""><h2 id="Installs">Installs</h2><a class="anchor" href="#Installs" id="#Installs" aria-label="Link to Installs" onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="pun">!</span><span class="pln">pip install dexplot
 </span><span class="pun">!</span><span class="pln">pip install folium
 </span><span class="pun">!</span><span class="pln">pip install geopandas
 </span><span class="pun">!</span><span class="pln">pip install ipyleaflet
 </span><span class="pun">!</span><span class="pln">pip install gpdvega
 </span><span class="pun">!</span><span class="pln">pip install dataplay</span></pre></details><details><summary style=""><h2 id="Imports"><strong>Imports</strong></h2><a class="anchor" href="#Imports" id="#Imports" aria-label="Link to Imports" onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="kwd">import</span><span class="pln"> os
 </span><span class="kwd">import</span><span class="pln"> pandas </span><span class="kwd">as</span><span class="pln"> pd
 </span><span class="kwd">import</span><span class="pln"> geopandas </span><span class="kwd">as</span><span class="pln"> gpd
 </span><span class="kwd">import</span><span class="pln"> dexplot </span><span class="kwd">as</span><span class="pln"> dxp
 </span><span class="kwd">import</span><span class="pln"> folium </span><span class="kwd">as</span><span class="pln"> fol
 </span><span class="kwd">import</span><span class="pln"> json
 </span><span class="kwd">import</span><span class="pln"> altair </span><span class="kwd">as</span><span class="pln"> alt
 </span><span class="kwd">import</span><span class="pln"> gpdvega
 </span><span class="kwd">import</span><span class="pln"> dataplay
 </span><span class="com"># These imports will handle everything</span><span class="pln">
 </span><span class="kwd">import</span><span class="pln"> os
 </span><span class="kwd">import</span><span class="pln"> sys
 </span><span class="kwd">import</span><span class="pln"> csv
 </span><span class="kwd">from</span><span class="pln"> </span><span class="typ">IPython</span><span class="pun">.</span><span class="pln">display </span><span class="kwd">import</span><span class="pln"> clear_output
 </span><span class="kwd">import</span><span class="pln"> matplotlib</span><span class="pun">.</span><span class="pln">pyplot </span><span class="kwd">as</span><span class="pln"> plt
 </span><span class="kwd">import</span><span class="pln"> numpy </span><span class="kwd">as</span><span class="pln"> np
 </span><span class="kwd">import</span><span class="pln"> pandas </span><span class="kwd">as</span><span class="pln"> pd
 </span><span class="kwd">import</span><span class="pln"> geopandas </span><span class="kwd">as</span><span class="pln"> gpd
 </span><span class="kwd">from</span><span class="pln"> geopandas </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">GeoDataFrame</span><span class="pln">
 </span><span class="kwd">import</span><span class="pln"> psycopg2
 </span><span class="kwd">import</span><span class="pln"> pyproj
 </span><span class="kwd">from</span><span class="pln"> pyproj </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Proj</span><span class="pun">,</span><span class="pln"> transform
 </span><span class="com"># conda install -c conda-forge proj4</span><span class="pln">
 </span><span class="kwd">from</span><span class="pln"> shapely</span><span class="pun">.</span><span class="pln">geometry </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Point</span><span class="pln">
 </span><span class="kwd">from</span><span class="pln"> shapely </span><span class="kwd">import</span><span class="pln"> wkb
 </span><span class="kwd">from</span><span class="pln"> shapely</span><span class="pun">.</span><span class="pln">wkt </span><span class="kwd">import</span><span class="pln"> loads
 </span><span class="com"># https://pypi.org/project/geopy/</span><span class="pln">
 </span><span class="kwd">from</span><span class="pln"> geopy</span><span class="pun">.</span><span class="pln">geocoders </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Nominatim</span><span class="pln">
 </span><span class="kwd">import</span><span class="pln"> folium
 </span><span class="kwd">from</span><span class="pln"> folium </span><span class="kwd">import</span><span class="pln"> plugins
 
 </span><span class="kwd">from</span><span class="pln"> dataplay</span><span class="pun">.</span><span class="pln">merge </span><span class="kwd">import</span><span class="pln"> mergeDatasets 
 
 </span><span class="kwd">import</span><span class="pln"> dexplot </span><span class="kwd">as</span><span class="pln"> dxp
 
 </span><span class="com"># In case file is KML, enable support</span><span class="pln">
 </span><span class="kwd">import</span><span class="pln"> fiona
 fiona</span><span class="pun">.</span><span class="pln">drvsupport</span><span class="pun">.</span><span class="pln">supported_drivers</span><span class="pun">[</span><span class="str">'kml'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'rw'</span><span class="pln">
 fiona</span><span class="pun">.</span><span class="pln">drvsupport</span><span class="pun">.</span><span class="pln">supported_drivers</span><span class="pun">[</span><span class="str">'KML'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'rw'</span><span class="pln">
 
 </span><span class="com">#this cell is good to copy</span><span class="pln">
 </span><span class="kwd">from</span><span class="pln"> shapely</span><span class="pun">.</span><span class="pln">geometry </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">LineString</span><span class="pln">
 pd</span><span class="pun">.</span><span class="pln">plotting</span><span class="pun">.</span><span class="pln">register_matplotlib_converters</span><span class="pun">()</span><span class="pln">
 
 </span><span class="kwd">from</span><span class="pln"> dataplay</span><span class="pun">.</span><span class="pln">geoms </span><span class="kwd">import</span><span class="pln"> readInGeometryData
 </span><span class="kwd">from</span><span class="pln"> shapely </span><span class="kwd">import</span><span class="pln"> wkt
 </span><span class="kwd">from</span><span class="pln"> dataplay</span><span class="pun">.</span><span class="pln">geoms </span><span class="kwd">import</span><span class="pln"> readInGeometryData
 
 </span><span class="kwd">import</span><span class="pln"> ipywidgets </span><span class="kwd">as</span><span class="pln"> widgets
 </span><span class="pun">!</span><span class="pln">jupyter nbextension enable </span><span class="pun">--</span><span class="pln">py widgetsnbextension
 </span><span class="kwd">from</span><span class="pln"> </span><span class="typ">IPython</span><span class="pun">.</span><span class="pln">core</span><span class="pun">.</span><span class="pln">interactiveshell </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">InteractiveShell</span><span class="pln">
 </span><span class="typ">InteractiveShell</span><span class="pun">.</span><span class="pln">ast_node_interactivity </span><span class="pun">=</span><span class="pln"> </span><span class="str">'all'</span><span class="pln">
 </span><span class="kwd">import</span><span class="pln"> ipywidgets </span><span class="kwd">as</span><span class="pln"> widgets
 </span><span class="kwd">from</span><span class="pln"> ipywidgets </span><span class="kwd">import</span><span class="pln"> interact</span><span class="pun">,</span><span class="pln"> interact_manual
 alt</span><span class="pun">.</span><span class="pln">data_transformers</span><span class="pun">.</span><span class="pln">enable</span><span class="pun">(</span><span class="str">'default'</span><span class="pun">,</span><span class="pln"> max_rows</span><span class="pun">=</span><span class="kwd">None</span><span class="pun">)</span></pre></details><details><summary style=""><h2 id="Convenience_...">Convenience Functions</h2><a class="anchor" href="#Convenience_..." id="#Convenience_..." aria-label="Link to Convenience_..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="kwd">def</span><span class="pln"> getPointsInPolygons</span><span class="pun">(</span><span class="pln">pts</span><span class="pun">,</span><span class="pln"> polygons</span><span class="pun">,</span><span class="pln"> ptsCoordCol</span><span class="pun">,</span><span class="pln"> polygonsCoordCol</span><span class="pun">):</span><span class="pln"> 
     count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> 
     total </span><span class="pun">=</span><span class="pln"> pts</span><span class="pun">.</span><span class="pln">size </span><span class="pun">/</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">pts</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">)</span><span class="pln">
     </span><span class="com"># We're going to keep a list of how many points we find.</span><span class="pln">
     pts_in_polys </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]</span><span class="pln">
 
     </span><span class="com"># Loop over polygons with index i.</span><span class="pln">
     </span><span class="kwd">for</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> poly </span><span class="kwd">in</span><span class="pln"> polygons</span><span class="pun">.</span><span class="pln">iterrows</span><span class="pun">():</span><span class="pln">
         </span><span class="com"># print('Searching for point within Geom:', poly )</span><span class="pln">
         </span><span class="com"># Keep a list of points in this poly</span><span class="pln">
         pts_in_this_poly </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]</span><span class="pln">
 
         </span><span class="com"># Now loop over all points with index j.</span><span class="pln">
         </span><span class="kwd">for</span><span class="pln"> j</span><span class="pun">,</span><span class="pln"> pt </span><span class="kwd">in</span><span class="pln"> pts</span><span class="pun">.</span><span class="pln">iterrows</span><span class="pun">():</span><span class="pln">
           </span><span class="kwd">if</span><span class="pln"> poly</span><span class="pun">[</span><span class="pln">polygonsCoordCol</span><span class="pun">].</span><span class="pln">contains</span><span class="pun">(</span><span class="pln">pt</span><span class="pun">[</span><span class="pln">ptsCoordCol</span><span class="pun">]):</span><span class="pln">
             </span><span class="com"># Then it's a hit! Add it to the list,</span><span class="pln">
             </span><span class="com"># and drop it so we have less hunting.</span><span class="pln">
             pts_in_this_poly</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">pt</span><span class="pun">[</span><span class="pln">ptsCoordCol</span><span class="pun">])</span><span class="pln">
             pts </span><span class="pun">=</span><span class="pln"> pts</span><span class="pun">.</span><span class="pln">drop</span><span class="pun">([</span><span class="pln">j</span><span class="pun">])</span><span class="pln">
 
         </span><span class="com"># We could do all sorts, like grab a property of the</span><span class="pln">
         </span><span class="com"># points, but let's just append the number of them.</span><span class="pln">
         pts_in_polys</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">len</span><span class="pun">(</span><span class="pln">pts_in_this_poly</span><span class="pun">))</span><span class="pln">
         </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'Found this many points within the Geom:'</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">pts_in_this_poly</span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> 
         count </span><span class="pun">=</span><span class="pln"> count </span><span class="pun">+</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">pts_in_this_poly</span><span class="pun">)</span><span class="pln"> 
         clear_output</span><span class="pun">(</span><span class="pln">wait</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
 
     </span><span class="com"># Add the number of points for each poly to the dataframe.</span><span class="pln">
     polygons</span><span class="pun">[</span><span class="str">'pointsinpolygon'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> gpd</span><span class="pun">.</span><span class="typ">GeoSeries</span><span class="pun">(</span><span class="pln">pts_in_polys</span><span class="pun">)</span><span class="pln">
     </span><span class="kwd">print</span><span class="pun">(</span><span class="pln"> </span><span class="str">'Total Points: '</span><span class="pun">,</span><span class="pln"> total </span><span class="pun">)</span><span class="pln">
     </span><span class="kwd">print</span><span class="pun">(</span><span class="pln"> </span><span class="str">'Total Points in Polygons: '</span><span class="pun">,</span><span class="pln"> count </span><span class="pun">)</span><span class="pln">
     </span><span class="kwd">print</span><span class="pun">(</span><span class="pln"> </span><span class="str">'Prcnt Points in Polygons: '</span><span class="pun">,</span><span class="pln"> count </span><span class="pun">/</span><span class="pln"> total </span><span class="pun">)</span><span class="pln">
     </span><span class="kwd">return</span><span class="pln"> polygons</span></pre></details><details><summary style=""><h2 id="File_Access_...">File Access Convenience Functions</h2><a class="anchor" href="#File_Access_..." id="#File_Access_..." aria-label="Link to File_Access_..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="kwd">def</span><span class="pln"> findFile</span><span class="pun">(</span><span class="pln">root</span><span class="pun">,</span><span class="pln"> file</span><span class="pun">):</span><span class="pln">
     </span><span class="kwd">for</span><span class="pln"> d</span><span class="pun">,</span><span class="pln"> subD</span><span class="pun">,</span><span class="pln"> f </span><span class="kwd">in</span><span class="pln"> os</span><span class="pun">.</span><span class="pln">walk</span><span class="pun">(</span><span class="pln">root</span><span class="pun">):</span><span class="pln">
         </span><span class="kwd">if</span><span class="pln"> file </span><span class="kwd">in</span><span class="pln"> f</span><span class="pun">:</span><span class="pln">
             </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"{1}/{0}"</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">file</span><span class="pun">,</span><span class="pln"> d</span><span class="pun">)</span><span class="pln">
             </span><span class="kwd">break</span><span class="pln"> 
 
 </span><span class="com"># To 'import' a script you wrote, map its filepath into the sys</span><span class="pln">
 </span><span class="kwd">def</span><span class="pln"> addPath</span><span class="pun">(</span><span class="pln">root</span><span class="pun">,</span><span class="pln"> file</span><span class="pun">):</span><span class="pln"> sys</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">abspath</span><span class="pun">(</span><span class="pln"> findFile</span><span class="pun">(</span><span class="pln"> </span><span class="str">'./'</span><span class="pun">,</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">))</span></pre></details><details><summary style=""><h2 id="Inspect_Depl...">Inspect Deployment Data</h2><a class="anchor" href="#Inspect_Depl..." id="#Inspect_Depl..." aria-label="Link to Inspect_Depl..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="com">#@markdown Forms support many types of fields.</span><span class="pln">
 fileName </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Trip Origins by block September 2019.geojson"</span><span class="pln">  </span><span class="com">#@param ['Daily Deployment average by block August 2019.csv', 'Daily Deployment average by block December 2019.csv', 'Daily Deployment average by block November 2019.csv', 'Daily Deployment average by block October 2019.csv', 'Daily Deployment average by block September 2019.csv', 'Trip Destinations by block August 2019.geojson','Trip Destinations by block December 2019.geojson','Trip Destinations by block November 2019.geojson', 'Trip Destinations by block October 2019.geojson', 'Trip Destinations by block September 2019.geojson', 'Trip Origins by block August 2019.geojson','Trip Origins by block December 2019.geojson','Trip Origins by block November 2019.geojson','Trip Origins by block October 2019.geojson','Trip Origins by block September 2019.geojson']</span><span class="pln">
 </span><span class="com">#@markdown ---</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf</span><span class="pun">.</span><span class="pln">head</span><span class="pun">()</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">point_df</span><span class="pun">[</span><span class="str">'centroids'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> df</span><span class="pun">.</span><span class="pln">centroid
 point_df </span><span class="pun">=</span><span class="pln"> point_df</span><span class="pun">.</span><span class="pln">drop</span><span class="pun">(</span><span class="pln">columns </span><span class="pun">=</span><span class="pln"> </span><span class="str">'geometry'</span><span class="pun">)</span><span class="pln">
 point_df </span><span class="pun">=</span><span class="pln"> point_df</span><span class="pun">.</span><span class="pln">set_geometry</span><span class="pun">(</span><span class="str">'centroids'</span><span class="pun">)</span><span class="pln">
 point_df</span><span class="pun">.</span><span class="pln">head</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
 point_df</span><span class="pun">.</span><span class="pln">plot</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">=</span><span class="str">'o'</span><span class="pun">,</span><span class="pln"> color</span><span class="pun">=</span><span class="str">'red'</span><span class="pun">,</span><span class="pln"> markersize</span><span class="pun">=</span><span class="str">'value'</span><span class="pun">)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">                                     polygonsCoordCol </span><span class="pun">=</span><span class="pln"> </span><span class="str">'geometry'</span><span class="pun">,</span><span class="pln"> polygonsLabel </span><span class="pun">=</span><span class="pln"> </span><span class="str">'CSA2010'</span><span class="pun">)</span><span class="pln">
 pointsInPolys</span><span class="pun">.</span><span class="pln">plot</span><span class="pun">(</span><span class="pln">column</span><span class="pun">=</span><span class="str">'value'</span><span class="pun">,</span><span class="pln"> legend</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">,</span><span class="pln"> markersize </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf</span><span class="pun">.</span><span class="pln">shape
 
 </span><span class="com">#DataFrame.size	Return an int representing the number of elements in this object.</span><span class="pln">
 gdf</span><span class="pun">.</span><span class="pln">size
 
 </span><span class="com"># DataFrame.ndim	Return an integer representing the number of axes/array dimensions.</span><span class="pln">
 gdf</span><span class="pun">.</span><span class="pln">ndim
 
 </span><span class="com"># Note Used : </span><span class="pln">
 </span><span class="com"># DataFrame.axes	Return a list representing the axes of the DataFrame.</span><span class="pln">
 
 gdf</span><span class="pun">.</span><span class="pln">dtypes
 
 </span><span class="com"># Return unbiased kurtosis over requested axis using Fisher’s definition of kurtosis (kurtosis of normal == 0.0).</span><span class="pln">
 gdf</span><span class="pun">.</span><span class="pln">kurtosis</span><span class="pun">()</span></pre></details><details><summary style=""><h2 id="Load_Tracts">Load Tracts</h2><a class="anchor" href="#Load_Tracts" id="#Load_Tracts" aria-label="Link to Load_Tracts" onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="pln"> pd</span><span class="pun">.</span><span class="pln">set_option</span><span class="pun">(</span><span class="str">'display.expand_frame_repr'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">False</span><span class="pun">)</span><span class="pln">
 pd</span><span class="pun">.</span><span class="pln">set_option</span><span class="pun">(</span><span class="str">'display.precision'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln">
 </span><span class="kwd">from</span><span class="pln"> </span><span class="typ">IPython</span><span class="pun">.</span><span class="pln">core</span><span class="pun">.</span><span class="pln">interactiveshell </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">InteractiveShell</span><span class="pln">
 </span><span class="typ">InteractiveShell</span><span class="pun">.</span><span class="pln">ast_node_interactivity </span><span class="pun">=</span><span class="pln"> </span><span class="str">"all"</span><span class="pln">
 
 pd</span><span class="pun">.</span><span class="pln">set_option</span><span class="pun">(</span><span class="str">'max_colwidth'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">in_crs </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2248</span><span class="pln"> </span><span class="com"># The CRS we recieve our data.</span><span class="pln">
 out_crs </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4326</span><span class="pln"> </span><span class="com"># The CRS we would like to have our data represented as.</span><span class="pln">
 geom </span><span class="pun">=</span><span class="pln"> </span><span class="str">'geometry'</span><span class="pln"> </span><span class="com"># The column where our spatial information lives.</span><span class="pln">
 
 </span><span class="com"># A Url to load</span><span class="pln">
 boundariesBaltimoreTractsNoWater2010 </span><span class="pun">=</span><span class="pln"> </span><span class="str">"https://docs.google.com/spreadsheets/d/e/2PACX-1vQ8xXdUaT17jkdK0MWTJpg3GOy6jMWeaXTlguXNjCSb8Vr_FanSZQRaTU-m811fQz4kyMFK5wcahMNY/pub?gid=886223646&amp;single=true&amp;output=csv"</span><span class="pln">
 
 </span><span class="com"># Read in the dataframe</span><span class="pln">
 gdf </span><span class="pun">=</span><span class="pln"> pd</span><span class="pun">.</span><span class="pln">read_csv</span><span class="pun">(</span><span class="pln">boundariesBaltimoreTractsNoWater2010</span><span class="pun">)</span><span class="pln">
 
 </span><span class="com"># Convert the geometry column datatype from a string of text into a coordinate datatype.</span><span class="pln">
 gdf</span><span class="pun">[</span><span class="str">'geometry'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> gdf</span><span class="pun">[</span><span class="str">'geometry'</span><span class="pun">].</span><span class="pln">apply</span><span class="pun">(</span><span class="kwd">lambda</span><span class="pln"> x</span><span class="pun">:</span><span class="pln"> loads</span><span class="pun">(</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">))</span><span class="pln">
 
 </span><span class="com"># Process the dataframe as a geodataframe with a known CRS and geom column.</span><span class="pln">
 gdf </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GeoDataFrame</span><span class="pun">(</span><span class="pln">gdf</span><span class="pun">,</span><span class="pln"> crs</span><span class="pun">=</span><span class="pln">in_crs</span><span class="pun">,</span><span class="pln"> geometry</span><span class="pun">=</span><span class="str">'geometry'</span><span class="pun">)</span></pre><p>Ensure merge is on consistent datatypes</p><pre class="prettyprint prettyprinted" style=""><span class="pln">scooterdf</span><span class="pun">[</span><span class="str">'nameChange2'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> scooterdf</span><span class="pun">[</span><span class="str">'nameChange2'</span><span class="pun">].</span><span class="pln">astype</span><span class="pun">(</span><span class="pln">str</span><span class="pun">)</span></pre><p>Perform the merge</p><pre class="prettyprint prettyprinted" style=""><span class="com"># gdf.drop(columns='geometry').to_csv('./boundsdf.csv', index=False)</span></pre></details><details><summary style=""><h2 id="Inspect_Rout...">Inspect Routes Data</h2><a class="anchor" href="#Inspect_Rout..." id="#Inspect_Rout..." aria-label="Link to Inspect_Rout..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="pln">columnName </span><span class="pun">=</span><span class="pln"> </span><span class="str">"streetname"</span><span class="pln">  </span><span class="com">#@param ['id', 'color', 'streetname', 'trip_count_sum', 'trip_count_average', 'trip_count_percent']</span><span class="pln">
 gdf </span><span class="pun">=</span><span class="pln"> gpd</span><span class="pun">.</span><span class="pln">read_file</span><span class="pun">(</span><span class="pln"> findFile</span><span class="pun">(</span><span class="str">'./'</span><span class="pun">,</span><span class="pln"> fileName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
 gdf</span><span class="pun">.</span><span class="pln">head</span><span class="pun">()</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">    stroke</span><span class="pun">=</span><span class="str">'white'</span><span class="pun">,</span><span class="pln">
     strokeWidth</span><span class="pun">=</span><span class="lit">2</span><span class="pln">
 </span><span class="pun">).</span><span class="pln">encode</span><span class="pun">(</span><span class="pln">
     color</span><span class="pun">=</span><span class="pln">alt</span><span class="pun">.</span><span class="kwd">value</span><span class="pun">(</span><span class="str">'#eee'</span><span class="pun">),</span><span class="pln">
 </span><span class="pun">).</span><span class="pln">properties</span><span class="pun">(</span><span class="pln">
     width</span><span class="pun">=</span><span class="lit">700</span><span class="pun">,</span><span class="pln">
     height</span><span class="pun">=</span><span class="lit">500</span><span class="pln">
 </span><span class="pun">)</span><span class="str">"""
 
 # GeoDataFrame could be passed as usual pd.DataFrame
 city = alt.Chart(baltimore).mark_geoshape(
 ).project(
 ).encode(
     color='tpop10', # shorthand infer types as for regular pd.DataFrame
     tooltip='CSA2010' # GeoDataFrame.index is accessible as id
 ).properties(
     width=500,
     height=300
 )
 
 routes = alt.Chart(gdf).mark_geoshape(
     filled=False,
     strokeWidth=2
 )
 
 city + routes</span></pre><p>Clean the gdf of empties.</p><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf </span><span class="pun">=</span><span class="pln"> gdf</span><span class="pun">[~</span><span class="pln">gdf</span><span class="pun">.</span><span class="pln">is_empty</span><span class="pun">]</span></pre><p>Now get the extremities; this will take a minute.</p><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf</span><span class="pun">[</span><span class="str">'lefty'</span><span class="pun">],</span><span class="pln"> gdf</span><span class="pun">[</span><span class="str">'leftx'</span><span class="pun">],</span><span class="pln">gdf</span><span class="pun">[</span><span class="str">'righty'</span><span class="pun">],</span><span class="pln"> gdf</span><span class="pun">[</span><span class="str">'rightx'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> zip</span><span class="pun">(*</span><span class="pln">gdf</span><span class="pun">[</span><span class="str">"geometry"</span><span class="pun">].</span><span class="pln">map</span><span class="pun">(</span><span class="pln">split</span><span class="pun">))</span></pre><p>Split the gdf into a left and right dataset</p><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf_left </span><span class="pun">=</span><span class="pln"> gdf_left</span><span class="pun">.</span><span class="pln">drop</span><span class="pun">(</span><span class="pln">columns </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'geometry'</span><span class="pun">,</span><span class="str">'rightx'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'righty'</span><span class="pun">])</span><span class="pln">
 
 gdf_right</span><span class="pun">=</span><span class="pln"> gdf</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">()</span><span class="pln">
 gdf_right </span><span class="pun">=</span><span class="pln"> gdf_right</span><span class="pun">.</span><span class="pln">drop</span><span class="pun">(</span><span class="pln">columns </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'geometry'</span><span class="pun">,</span><span class="str">'leftx'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lefty'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'streetname'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'trip_count_sum'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'trip_count_average'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'trip_count_percent'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'color'</span><span class="pln"> </span><span class="pun">])</span></pre><p>The coordinate variables of object type will cause problems.</p><p>Let's go ahead and coerce a correction.</p><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf_left</span><span class="pun">[</span><span class="str">'lefty'</span><span class="pun">]=</span><span class="pln">pd</span><span class="pun">.</span><span class="pln">to_numeric</span><span class="pun">(</span><span class="pln">gdf_left</span><span class="pun">[</span><span class="str">'lefty'</span><span class="pun">],</span><span class="pln"> errors</span><span class="pun">=</span><span class="str">'coerce'</span><span class="pun">)</span><span class="pln">
 
 gdf_right</span><span class="pun">[</span><span class="str">'rightx'</span><span class="pun">]=</span><span class="pln">pd</span><span class="pun">.</span><span class="pln">to_numeric</span><span class="pun">(</span><span class="pln">gdf_right</span><span class="pun">[</span><span class="str">'rightx'</span><span class="pun">],</span><span class="pln"> errors</span><span class="pun">=</span><span class="str">'coerce'</span><span class="pun">)</span><span class="pln">
 gdf_left</span><span class="pun">[</span><span class="str">'leftx'</span><span class="pun">]=</span><span class="pln">pd</span><span class="pun">.</span><span class="pln">to_numeric</span><span class="pun">(</span><span class="pln">gdf_left</span><span class="pun">[</span><span class="str">'leftx'</span><span class="pun">],</span><span class="pln"> errors</span><span class="pun">=</span><span class="str">'coerce'</span><span class="pun">)</span></pre><p>Now we can view the results</p><p>Save these csv's because it took a minute to get to where we are now.</p><pre class="prettyprint prettyprinted" style=""><span class="pln">gdf_left</span><span class="pun">.</span><span class="pln">to_csv</span><span class="pun">(</span><span class="str">'leftRouts.csv'</span><span class="pun">)</span></pre><p>Convert the datasets to geodataframes for further exploration!</p><pre class="prettyprint prettyprinted" style=""><span class="com">#temp_gdf = gpd.GeoDataFrame( gdf_right, geometry=gpd.points_from_xy(gdf_right.rightx, gdf_right.righty) )</span><span class="pln">
 </span><span class="com">#temp_gdf.head()</span><span class="pln">
 
 </span><span class="com"># Alternately this could work.. unfinished.. but wkt.loads can make a Point from text</span><span class="pln">
 </span><span class="com"># gdf_right['strCol']=gdf_right['rightx'].astype(str)</span><span class="pln">
 </span><span class="com"># gdf_right['geometry'] = gdf_right['strCol'].apply(wkt.loads)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">left_csaMap </span><span class="pun">=</span><span class="pln"> readInGeometryData</span><span class="pun">(</span><span class="pln">url</span><span class="pun">=</span><span class="pln">gdf_left</span><span class="pun">,</span><span class="pln"> porg</span><span class="pun">=</span><span class="str">'p'</span><span class="pun">,</span><span class="pln"> geom</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> lat</span><span class="pun">=</span><span class="pln"> </span><span class="str">'leftx'</span><span class="pun">,</span><span class="pln"> lng</span><span class="pun">=</span><span class="pln"> </span><span class="str">'lefty'</span><span class="pun">,</span><span class="pln"> revgeocode</span><span class="pun">=</span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> save</span><span class="pun">=</span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> in_crs</span><span class="pun">=</span><span class="lit">4268</span><span class="pun">,</span><span class="pln"> out_crs</span><span class="pun">=</span><span class="lit">4268</span><span class="pun">)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">right_csaMap </span><span class="pun">=</span><span class="pln"> readInGeometryData</span><span class="pun">(</span><span class="pln">url</span><span class="pun">=</span><span class="pln">gdf_right</span><span class="pun">,</span><span class="pln"> porg</span><span class="pun">=</span><span class="str">'p'</span><span class="pun">,</span><span class="pln"> geom</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> lat</span><span class="pun">=</span><span class="pln"> </span><span class="str">'rightx'</span><span class="pun">,</span><span class="pln"> lng</span><span class="pun">=</span><span class="pln"> </span><span class="str">'righty'</span><span class="pun">,</span><span class="pln"> revgeocode</span><span class="pun">=</span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> save</span><span class="pun">=</span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> in_crs</span><span class="pun">=</span><span class="lit">4268</span><span class="pun">,</span><span class="pln"> out_crs</span><span class="pun">=</span><span class="lit">4268</span><span class="pun">)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="pln">right_points_in_poly </span><span class="pun">=</span><span class="pln"> getPointsInPolygons</span><span class="pun">(</span><span class="pln">right_csaMap</span><span class="pun">,</span><span class="pln"> baltimore</span><span class="pun">,</span><span class="pln"> </span><span class="str">'geometry'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'geometry'</span><span class="pun">)</span></pre><pre class="prettyprint prettyprinted" style=""><span class="kwd">import</span><span class="pln"> geopandas </span><span class="kwd">as</span><span class="pln"> gpd
 </span><span class="kwd">import</span><span class="pln"> gpdvega
 </span><span class="com"># GeoDataFrame could be passed as usual pd.DataFrame</span><span class="pln">
 chart </span><span class="pun">=</span><span class="pln"> alt</span><span class="pun">.</span><span class="typ">Chart</span><span class="pun">(</span><span class="pln">right_points_in_poly</span><span class="pun">).</span><span class="pln">mark_geoshape</span><span class="pun">(</span><span class="pln">
 </span><span class="pun">).</span><span class="pln">project</span><span class="pun">(</span><span class="pln">
 </span><span class="pun">).</span><span class="pln">encode</span><span class="pun">(</span><span class="pln">
     color</span><span class="pun">=</span><span class="str">'pointsinpolygon'</span><span class="pun">,</span><span class="pln"> </span><span class="com"># shorthand infer types as for regular pd.DataFrame</span><span class="pln">
     tooltip</span><span class="pun">=[</span><span class="str">'CSA2010'</span><span class="pun">,</span><span class="str">'pointsinpolygon'</span><span class="pun">]</span><span class="pln"> </span><span class="com"># GeoDataFrame.index is accessible as id</span><span class="pln">
 </span><span class="pun">).</span><span class="pln">properties</span><span class="pun">(</span><span class="pln">
     width</span><span class="pun">=</span><span class="lit">500</span><span class="pun">,</span><span class="pln">
     height</span><span class="pun">=</span><span class="lit">300</span><span class="pln">
 </span><span class="pun">)</span><span class="pln"> 
 
 routes </span><span class="pun">=</span><span class="pln"> alt</span><span class="pun">.</span><span class="typ">Chart</span><span class="pun">(</span><span class="pln">gdf</span><span class="pun">).</span><span class="pln">mark_geoshape</span><span class="pun">(</span><span class="pln">
     filled</span><span class="pun">=</span><span class="kwd">False</span><span class="pun">,</span><span class="pln">
     strokeWidth</span><span class="pun">=</span><span class="lit">2</span><span class="pln">
 </span><span class="pun">)</span><span class="pln">
 
 chart </span><span class="pun">+</span><span class="pln"> routes
 
 chart</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">fileName</span><span class="pun">[:-</span><span class="lit">8</span><span class="pun">]+</span><span class="str">'.html'</span><span class="pun">,</span><span class="pln"> embed_options</span><span class="pun">={</span><span class="str">'renderer'</span><span class="pun">:</span><span class="str">'svg'</span><span class="pun">})</span><span class="pln">
 chart</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">fileName</span><span class="pun">[:-</span><span class="lit">8</span><span class="pun">]+</span><span class="str">'.json'</span><span class="pun">)</span></pre></details><details><summary style=""><h2 id="Inspect_Orig...">Inspect Origins-Destinations Data</h2><a class="anchor" href="#Inspect_Orig..." id="#Inspect_Orig..." aria-label="Link to Inspect_Orig..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/labs/01_scooter_exploration.html'); w.toast?.();"></a></summary><pre class="prettyprint prettyprinted" style=""><span class="com">#@markdown Forms support many types of fields.</span><span class="pln">
 fileName </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Trip Destinations by block August 2019.geojson'</span><span class="pln">  </span><span class="com">#@param ['Trip Destinations by block August 2019.geojson', 'Trip Destinations by block December 2019.geojson', 'Trip Destinations by block November 2019.geojson', 'Trip Destinations by block October 2019.geojson', 'Trip Destinations by block September 2019.geojson', 'Trip Origins by block August 2019.geojson', 'Trip Origins by block December 2019.geojson', 'Trip Origins by block November 2019.geojson', 'Trip Origins by block October 2019.geojson', 'Trip Origins by block September 2019.geojson']</span><span class="pln">
 columnName </span><span class="pun">=</span><span class="pln"> </span><span class="str">"name"</span><span class="pln">  </span><span class="com">#@param ['name', 'value', 'color', 'radius']</span><span class="pln">
 
 </span><span class="com">#@markdown ---</span><span class="pln">
 
 gdf </span><span class="pun">=</span><span class="pln"> gpd</span><span class="pun">.</span><span class="pln">read_file</span><span class="pun">(</span><span class="pln"> findFile</span><span class="pun">(</span><span class="str">'./'</span><span class="pun">,</span><span class="pln"> fileName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
 
 gdf</span><span class="pun">.</span><span class="pln">plot</span><span class="pun">(</span><span class="pln"> column </span><span class="pun">=</span><span class="pln"> columnName</span><span class="pun">)</span><span class="pln">
 gdf</span><span class="pun">.</span><span class="pln">columns
 gdf</span><span class="pun">[[</span><span class="str">'id'</span><span class="pun">,</span><span class="str">'name'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'value'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'color'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'radius'</span><span class="pun">]].</span><span class="pln">head</span><span class="pun">(</span><span class="lit">5</span><span class="pun">)</span></pre></details><link rel="stylesheet" href="https://cdn.rawgit.com/google/code-prettify/master/styles/desert.css"></div><div id="footer"><p id="thanks">Thank's for visiting! - <a href="./../legal.html" id="Terms_of_use684179">Terms of use</a></p><div id="footer_bg_wrapper"><div id="footer_bg"></div></div></div><script>!function(){"use strict";var e,t,n,r,o={},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var c=2&r&&n;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},i.d(o,a),o},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return"chunk."+({156:"convert",233:"template",787:"route"}[e]||e)+"."+{156:"df0c10ce33d3ee94a9a5",212:"cc5a15acf69e27245d38",233:"a19d52f05fa325468cec",787:"e960bd1ae43977fc9361"}[e]+".js"},i.miniCssF=function(e){return"index.css"},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="karpatic:",i.l=function(e,t,o,a){if(n[e])n[e].push(t);else{var c,u;if(void 0!==o)for(var f=document.getElementsByTagName("script"),l=0;l<f.length;l++){var d=f[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){c=d;break}}c||(u=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.setAttribute("data-webpack",r+o),c.src=e),n[e]=[t];var s=function(t,r){c.onerror=c.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(s.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=s.bind(null,c.onerror),c.onload=s.bind(null,c.onload),u&&document.head.appendChild(c)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",function(){var e={826:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var a=i.p+i.u(t),c=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,r[1](c)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],c=n[1],u=n[2],f=0;if(a.some((function(t){return 0!==e[t]}))){for(r in c)i.o(c,r)&&(i.m[r]=c[r]);u&&u(i)}for(t&&t(n);f<a.length;f++)o=a[f],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkkarpatic=self.webpackChunkkarpatic||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),window.w=window,w.oldRoute=location.pathname,w.isLocal||=!w.content,w.preRendering=/ReactSnap/.test(navigator.userAgent),w.preRendering||(console.log("%c Like what you see?","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 red , 6px 6px 0 green , 9px 9px 0 blue"),console.log("%c Contact me: charleskarpati@gmail.com","color: blue; font-family:sans-serif; font-size: 20px")),w.pingServer=async(e=!1)=>{w.content&&navigator.sendBeacon("https://ping.charleskarpati.com/",`{"from":"${oldRoute||location.href}","to":"${e?.href||e?.target?.href||oldRoute}"}`)},!isLocal&&w.pingServer(),w.redirect=async(e=!1)=>{e?.preventDefault?.(),!w.navEvent&&({handleRoute:w.handleRoute,navEvent:w.navEvent}=await i.e(787).then(i.bind(i,85))),"click"==e.type?(history.pushState({},"",e.target.href),navEvent()):handleRoute()},addEventListener("popstate",redirect)}()</script><script>function loadLazy(){w.loadOnce&&(w.loadOnce=!0)||((document.head||d).appendChild(document.createElement("script")).src=origin+"/templates/article_lazy.js")}[[["scroll","mousedown","touchstart"],w,loadLazy,{once:!0}]].forEach((e=>e[0].forEach((t=>e[1].addEventListener(t,e[2],e[3]||{passive:!1}))))),w.activeHeader=null,w.observer=new IntersectionObserver((e=>{e.forEach((e=>{let t=e.target,n="0.5s ease-in-out 0s 2 normal none running wiggle",a=t.getBoundingClientRect().top,o="SUMMARY"==t.parentNode?.nodeName&&t.parentNode.style||t.style;if(o.animation=n,!e.isIntersecting)return o.animation="";if(a<300||a>300){w.activeHeader&&(w.activeHeader.style.textDecoration="none");let e=document.querySelector(`#sitemap a[href="#${t.id}"]`);e&&(e.style.animation=n,e.style.textDecoration="line-through"),w.activeHeader=e}}))})),(w.loadObserver=e=>{document.querySelectorAll("h2,h3,h4").forEach((e=>observer.observe(e)))})()</script><style>body[\:has\(\%23sitemap\[focus-within\]\)]{overscroll-behavior-y:contain}body:has(#sitemap[focus-within]){overscroll-behavior-y:contain}body[\:has\(\%23sitemap\:focus-within\)]{overscroll-behavior-y:contain}body:has(#sitemap:focus-within){overscroll-behavior-y:contain}#sitemap{backdrop-filter:blur(2px) saturate(100%);-webkit-backdrop-filter:blur(2px) saturate(100%);background-color:rgba(var(--foreground),.6);border-radius:.7rem;border-radius:12px;box-shadow:3px 2px 5px rgb(var(--background)),-3px -2px 20px rgb(var(--near-white)),inset 0 0 10px rgb(var(--near-white));left:0;min-width:8em;overflow:hidden;overflow-x:hidden;padding:0 1rem 1rem;position:fixed;top:0;z-index:999}#toggle_sitemap{visibility:hidden}#toggle_sitemap:not(:checked)~#sitemap{animation:collapse 1s forwards,glow 6s linear infinite}#toggle_sitemap:checked~#sitemap{animation:expand 1s forwards,pulse 6s linear infinite}@keyframes glow{50%{box-shadow:3px 2px 20px rgb(var(--near-white)),-3px -2px 20px rgb(var(--background)),inset 0 0 10px rgb(var(--background))}}@keyframes collapse{0%{max-height:75svh}to{max-height:3em}}@keyframes expand{to{max-height:75svh}0%{max-height:3em}}#sitemap>label{color:rgb(var(--near-black));cursor:grab;display:flex;justify-content:space-between;line-height:3em;width:-webkit-fill-available}#sitemap>label:hover{text-shadow:1px 1px 45px rgb(var(--near-black))}#toggle_sitemap:not(:checked)~#sitemap>label>span{animation:dismiss 1s forwards}#toggle_sitemap:checked~#sitemap>label>span{animation:reveal .5s forwards}#sitemap>label>span:nth-child(2){--rotate:0deg}#sitemap>label>span:nth-child(3){--rotate:45deg}@keyframes reveal{0%{transform:rotate(var(--rotate))}to{transform:rotate(90deg)}}@keyframes dismiss{0%{transform:rotate(90deg)}to{transform:rotate(var(--rotate))}}#sitemap-content{display:grid;max-height:calc(75vh - 6em);overflow-x:hidden}#sitemap-content>a{display:inherit;width:-moz-fit-content;width:fit-content}#sitemap-content>a:hover{animation:shake 1s linear infinite alternate}#currentPage:hover{color:rgb(var(--near-black))}#currentPage+div>a:hover{text-decoration:line-through}#currentPage+div{display:block;font-size:1em;line-height:1em}#currentPage:hover{animation:gradient 4s linear infinite alternate,shake 1s linear infinite alternate}#currentPage{animation:gradient 4s linear infinite alternate;background-image:var(--radial1);background-size:100% 400%;border-radius:5px}@keyframes shake{0%{transform:translate(0);-webkit-transform:translate(0)}50%{transform:translate(4px);-webkit-transform:translate(4px)}to{transform:translate(0);-webkit-transform:translate(0)}}</style></body></html>