"use strict";(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[786],{588:function(t,e,a){a.r(e),a.d(e,{handleRoute:function(){return handleRoute},navEvent:function(){return navEvent}}),window.w=window;const navEvent=async t=>{console.group("Route: navEvent"),history.pushState({},"",t);let e=t||location.href;(-1==e.indexOf("#")?()=>window.scrollTo({top:0,behavior:"smooth"}):()=>w[e.split("#")[1]]?.scrollIntoView({behavior:"smooth"}))(),e.split("#")[0]!=w.href?.split("#")[0]&&(await handleRoute(),w.href=e),console.groupEnd()},handleRoute=async()=>{if(console.group("Route: HandleRoute"),location.pathname.includes("undefined"))return;w.meta||!isLocal&&registerServiceWorker(),w.toast||await a.e(225).then(a.t.bind(a,39,23));let t="/"==location.pathname?"index":location.pathname.replaceAll("./","").replaceAll("../","").replace(".html","").replace(/^\//,"").replace(/\/$/,""),e=!isLocal||preRendering?`${location.origin}/posts/${t}.json`:`../../ipynb/${t}.ipynb`,n={};try{n=await(!isLocal||preRendering?await(async()=>(await fetch(e)).json())():(await(async()=>await Promise.all([a.e(952),a.e(72)]).then(a.bind(a,720)))()).nb2json(e,!0))}catch(e){try{let e=t.split("/").pop(),o="https://getfrom.net/cms/notes/"+t.split("/").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join("_"),i=await(await fetch(o)).text();n={meta:{title:e,markdown:"true"},content:(await a.e(385).then(a.t.bind(a,385,23))).marked(i)}}catch{location.pathname,"#reload"!=location.hash&&(location.hash="reload",location.reload())}}w.oldMeta=w.meta,w.meta=n.meta,meta.content=n.content,console.groupEnd(),w.dispatchEvent(new CustomEvent("load_template"))},registerServiceWorker=async()=>{if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/utils/service-worker.js");t.onupdatefound=()=>{const e=t.installing;e.onstatechange=()=>{"installed"==e.state&&navigator.serviceWorker.controller}}}catch(t){console.error(`Registration failed with ${t}`)}}}}]);