<!DOCTYPE html><html lang="en" dir="ltr"><head id="head"><meta charset="UTF-8"><title>Scooter Exploration</title><link rel="license" href="https://opensource.org/licenses/MIT"><link rel="canonical" href="https://Scooter Exploration.com/datalabs/01_scooter_exploration"><link rel="icon" type="image/ico" sizes="16x16" href="data:image/x-icon;base64,AAABAAEAEBACAAEAAQCLAAAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAQAAAAEAgGAAAAH/P/YQAAAFJJREFUOI1jZGj5/58BO2CE0v/xiTHh0Ew0oNgAFjQ+I1ZVtHQBOQagBDqpBqDHGCMlXmAkxwUYgBID/pNjAHo0/yfHBSiGUD0lYss4eMHAZyYAshIJp1L2luYAAAAASUVORK5CYII="><meta http-equiv="Content-Security-Policy" content="img-src * data:; connect-src *;"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><meta name="author" content="Charles Karpati"><meta name="description" content="My personal site and portfolio"><meta name="theme-color" content="#0080f0"><meta name="robots" content="index, follow"><meta property="og:url" content="http://www.Scooter Exploration.com/datalabs/01_scooter_exploration"><meta property="og:title" content="Scooter Exploration"><meta property="og:description" content="In this chapter Scooter data is explored"><meta property="og:type" content="city"><meta property="og:site_name" content="CharlesKarpati.com"><meta property="og:locale" content="en_US"><meta property="op:markup_version" content="v1.0"><meta property="fb:article_style" content="default"><meta property="og:image" content="/images/icon300.png"><meta name="twitter:card" content="In this chapter Scooter data is explored"><meta name="twitter:site" content="@cvminigames"><meta name="twitter:creator" content="@cvminigames"><style>*{box-sizing:border-box;font-family:Georgia,TimesNewRoman,Times,Times New Roman,serif;position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}:before,html,p{font-size:1.125em;line-height:1.625em;scroll-behavior:smooth;transition:filter .5s linear}body{margin:0;overflow-x:hidden}::-moz-selection{background:#d1d1fa;background:rgb(var(--background))}::selection{background:#d1d1fa;background:rgb(var(--background))}:root{--canvas:227,227,232;--background:209,209,250;--foreground:240,240,255;--near-black:0,72,72;--near-white:226,226,238;--max-width:min(800px,100vw);--bggradient1:rgb(var(--canvas));--bggradient2:rgba(var(--canvas),0.8);--bggradientheader:linear-gradient(70deg,rgba(var(--background),0.5),rgba(var(--foreground),0.5),rgba(var(--background),0.5));--bggradientfooter:linear-gradient(70deg,rgba(var(--background),0.6),rgba(var(--foreground),0.6),rgba(var(--background),0.6));--filterdropshadowover:drop-shadow(4px 4px 10px rgb(var(--foreground)));--filterdropshadowunder:drop-shadow(4px -4px 1px rgb(var(--background)));--change1:0%;--change2:100%;--path1:path("M 0 0 L 0 2 L 0 0");--path2:0}h1,h2{text-align:center;text-shadow:none;transition:all .3s ease-in-out}h2:hover{text-shadow:1px 1px 45px #004848;text-shadow:1px 1px 45px rgb(var(--near-black));transition:all .4s ease-in-out}a,h1,h2,h3,h4{color:#004848;color:rgb(var(--near-black));font-family:Courier New,Courier,Monaco,monospace,Helvetica,Arial,sans-serif;font-weight:600}h3,h4{font-size:1.25em}a{text-decoration:none}summary:hover .anchor:after{content:"ðŸ”—";height:.8em}.anchor{left:0}.anchor,input{position:absolute}input{clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;width:1px}a:before{background-color:#d1d1fa;background-color:rgb(var(--background));content:"";height:0;left:0;position:absolute;transition:all .3s ease-in-out;width:100%;z-index:-1}a:hover:before{bottom:0;height:8px;height:100%}span{font-family:inherit}p{word-break:break-word}pre{background:#d1d1fa;background:rgb(var(--background));line-height:1.2em;max-width:calc(min(800px,100vw) - 70px);max-width:calc(var(--max-width) - 70px);overflow:auto;padding:12px}blockquote{background-color:#d1d1fa;background-color:rgb(var(--background));border-left:8px solid #f0f0ff;border-left:8px solid rgb(var(--foreground));font-style:italic;margin:32px 24px;padding:12px 5px 1px;position:relative}blockquote:before{color:#f0f0ff;color:rgb(var(--foreground));content:"â€œ";font-size:4em;left:10px;padding-top:6px;position:absolute;top:-12px}ul{padding:0}ul ul{padding-left:10px}ul>li{display:flex;list-style-type:none}ul>li:before{content:"-";margin-right:10px}.details details:nth-child(odd),details details:nth-child(2n),details:nth-child(odd){background:rgba(209,209,250,.4);background:rgba(var(--background),.4)}.details details:nth-child(2n),details details:nth-child(odd){background:rgba(227,227,232,.4);background:rgba(var(--canvas),.4)}details>summary{list-style:none;position:relative}details>summary:before{content:"â‡¨";display:inline-block;margin-right:8px;transition:transform .3s ease}details[open]>summary:before{transform:rotate(90deg)}details>summary>*{display:inline}summary{cursor:pointer;font-size:1.25em;padding:12px 0;text-align:center}hr{border-top:1px solid rgba(0,72,72,.1);border-top:1px solid rgba(var(--near-black),.1);margin:1px 1px 10px}</style><style>:root{--radial1:radial-gradient(at 52%,at 13%,#a0c3f3 0px,transparent 50%),radial-gradient(at 40%,at 33%,#9be8df 0px,transparent 50%),radial-gradient(at 15%,at 92%,#63fdd9 0px,transparent 50%),radial-gradient(at 97%,at 78%,#889dfb 0px,transparent 50%),radial-gradient(at 19%,at 52%,#fea862 0px,transparent 50%),radial-gradient(at 68%,at 16%,#f29cba 0px,transparent 50%),radial-gradient(at 25%,at 1%,#5cb3e6 0px,transparent 50%);--radial1:radial-gradient(at 52% 13%,#a0c3f3 0px,transparent 50%),radial-gradient(at 40% 33%,#9be8df 0px,transparent 50%),radial-gradient(at 15% 92%,#63fdd9 0px,transparent 50%),radial-gradient(at 97% 78%,#889dfb 0px,transparent 50%),radial-gradient(at 19% 52%,#fea862 0px,transparent 50%),radial-gradient(at 68% 16%,#f29cba 0px,transparent 50%),radial-gradient(at 25% 1%,#5cb3e6 0px,transparent 50%)}h1>a::-moz-selection{color:rgb(var(--near-black))}h1>a::selection{color:rgb(var(--near-black))}h1>a{animation:gradient 5s ease infinite;background:linear-gradient(90deg,rgb(var(--near-black)),rgba(var(--near-black),.4),rgb(var(--near-black)),rgba(var(--near-black),.4));-webkit-background-clip:text;background-clip:text;background-size:300% 100%;color:transparent}@keyframes gradient{0%{background-position:0 0}50%{background-position:100% 100%}to{background-position:0 0}}h2{filter:url(#header)}#gradient_bg:before{background:linear-gradient(180deg,var(--bggradient1),var(--bggradient2));content:"";height:300%;left:0;position:fixed;top:0;width:100%;z-index:-6}#header{margin:60px auto 30px;padding:12px;text-align:center;width:-moz-fit-content;width:fit-content;z-index:9}#header_bg_wrapper{filter:var(--filterdropshadowover);height:100%;position:absolute;top:0;width:100%}#header_bg{animation:spin-header 1s linear infinite alternate;background:var(--bggradientheader);border-radius:50px;-webkit-clip-path:polygon(33% 38%,0 43%,0 0,100% 0,100% 43%,66% 38%,66% 46%,100% 60%,100% 100%,0 100%,0 60%,33% 46%);clip-path:polygon(33% 38%,0 43%,0 0,100% 0,100% 43%,66% 38%,66% 46%,100% 60%,100% 100%,0 100%,0 60%,33% 46%);height:100%;transition-duration:2s;width:100%}#header:hover #header_bg{-webkit-clip-path:polygon(0 15%,15% 15%,15% 0,85% 0,85% 15%,100% 15%,100% 85%,85% 85%,85% 100%,15% 100%,15% 85%,0 85%);clip-path:polygon(0 15%,15% 15%,15% 0,85% 0,85% 15%,100% 15%,100% 85%,85% 85%,85% 100%,15% 100%,15% 85%,0 85%)}@keyframes spin-header{0%{transform:rotate(-4deg)}to{transform:rotate(4deg)}}@keyframes wiggle{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}#svg_bg{position:fixed;z-index:-8}.controls_container{flex-wrap:wrap;justify-content:space-between;margin:0 auto 30px;padding:0 25px}#footer,.controls_container{align-items:flex-end;display:flex;width:min(100vw,800px)}#footer{height:200px;justify-content:center;margin:30px auto 0}#thanks{color:rgb(var(--near-black));font-size:1.25em;padding:10px;text-align:center}#thanks a{font-size:.75em}#footer_bg_wrapper{filter:var(--filterdropshadowunder);height:100%;position:absolute;top:0;width:100%;z-index:-1}#footer_bg{background:var(--bggradientfooter);height:100%;width:100%}.broider{-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAatJREFUeF7t3EuOwjAABFG4XY7M7WAdI9FquSKZuNjaNJ7nJp8R8Hy0j+N4n57yej3biDvP7zEE/dkHQeG3i6CCwgJwnA0VFBaA42zo5aDpsmh2HP4DVov7bugsWHr+agLwegQVFBaA4/JJaXwLpwVsfm8vaCpIOS5oCZamC5qEyvEMOgZuflmUfAVNQuW4oCVYmi5oEirHe9DyBXabLii844IKCgvAcX1D23v7ccE3v9cX1IbCAnCcDV0O9ObHxNZ7vqGCnswFbSsY5gsqKCwAx9lQQWEBOM6GCgoLwHE2VFBYAI6zoYLCAnCcDRUUFoDjbKigsAAcZ0MFhQXgOBsqKCwAx9lQQWEBOM6GCgoLwHE2VFBYAI6zoZeDzn7+c1zgZh/VyV/vnt1BQYdfDhO0ErChFVee3J+UcubWMwSFt19QQWEBOC6flNrLns2/Ty+oDYUF4Dgbejno+ALpmJjG4QWvHpcvmxJYGl9dAF6foILCAnBcbmh7TIUX+G9xgsI7JqigsAAclxuaLovSOLzg1eMEhXdIUEFhATjOf44ICgvAcTZUUFgAjvsAzQksZB+8F2AAAAAASUVORK5CYII=) 28/28px/0 round;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAatJREFUeF7t3EuOwjAABFG4XY7M7WAdI9FquSKZuNjaNJ7nJp8R8Hy0j+N4n57yej3biDvP7zEE/dkHQeG3i6CCwgJwnA0VFBaA42zo5aDpsmh2HP4DVov7bugsWHr+agLwegQVFBaA4/JJaXwLpwVsfm8vaCpIOS5oCZamC5qEyvEMOgZuflmUfAVNQuW4oCVYmi5oEirHe9DyBXabLii844IKCgvAcX1D23v7ccE3v9cX1IbCAnCcDV0O9ObHxNZ7vqGCnswFbSsY5gsqKCwAx9lQQWEBOM6GCgoLwHE2VFBYAI6zoYLCAnCcDRUUFoDjbKigsAAcZ0MFhQXgOBsqKCwAx9lQQWEBOM6GCgoLwHE2VFBYAI6zoZeDzn7+c1zgZh/VyV/vnt1BQYdfDhO0ErChFVee3J+UcubWMwSFt19QQWEBOC6flNrLns2/Ty+oDYUF4Dgbejno+ALpmJjG4QWvHpcvmxJYGl9dAF6foILCAnBcbmh7TIUX+G9xgsI7JqigsAAclxuaLovSOLzg1eMEhXdIUEFhATjOf44ICgvAcTZUUFgAjvsAzQksZB+8F2AAAAAASUVORK5CYII=) 28/28px/0 round;border-style:solid;border-width:28px 16px;margin:auto;max-width:var(--max-width)}.broider img{width:-webkit-fill-available}.broider>*,details>details{margin:0;padding:12px 0 12px 16px}details>details{border-left:1px solid rgb(var(--near-black))}@media only screen and (max-width:769px){.broider>*,details>details{padding-right:2px}.broider{border-width:28px 0 28px 8px}#head_separator{display:none}.notebox:checked+aside{align-items:flex-end;flex-direction:column-reverse}#breadcrumbs{padding-bottom:10px}}.twitter-tweet{margin:auto}#expand,#light,.notelbl{cursor:pointer}#light:before{content:"ðŸŒœ Dark mode";display:block}html[\:has\(\%23lightmode\:checked\)]{filter:invert(100%)}html:has(#lightmode:checked){filter:invert(100%)}html[\:has\(\%23lightmode\:checked\)] #light:before{content:"ðŸŒž Light mode"}html:has(#lightmode:checked) #light:before{content:"ðŸŒž Light mode"}#music{align-items:center;display:flex;margin:0 0 0 -7px}audio{height:40px;margin-left:-6px}audio::-webkit-media-controls-panel{background:rgba(var(--background),.5)}#music>span{border-radius:50%;display:inline-block;height:40px;margin-right:5px;overflow:hidden;width:40px}.notebox+label{color:rgb(var(--near-black))}aside{background:rgb(var(--canvas));border-width:medium;border-bottom:0 solid rgb(var(--near-black));border-left:2px solid rgb(var(--near-black));border-radius:7% 7% 0 0;border-right:2px solid rgb(var(--near-black));border-top:10px solid rgb(var(--near-black));box-shadow:2px 2px 4px rgba(0,0,0,.5);padding:20px;z-index:1}.notebox:checked~aside{display:block}.notebox:checked~.notelbl:after{content:" [X]"}.notebox,aside{display:none}#expand:before{content:"âž• Expand notes"}body[\:has\(\%23expandmode\:checked\)] #expand:before{content:"âž– Collapse notes"}body:has(#expandmode:checked) #expand:before{content:"âž– Collapse notes"}body[\:has\(\%23expandmode\:checked\)] aside{display:block}body:has(#expandmode:checked) aside{display:block}#toast_container{bottom:15%;display:flex;justify-content:center;position:fixed;transform:scale(0);width:100vw;z-index:1}#toast_container>p{background:rgb(var(--near-black));border-radius:50px;color:rgb(var(--foreground));padding:10px;width:-moz-fit-content;width:fit-content}@keyframes toast{0%{transform:scale(0)}20%{transform:scale(1)}80%{transform:scale(1)}to{transform:scale(0)}}#page_transition{align-items:center;background:radial-gradient(at 52%,at 13%,#a0c3f3 0,transparent 50%),radial-gradient(at 40%,at 33%,#9be8df 0,transparent 50%),radial-gradient(at 15%,at 92%,#63fdd9 0,transparent 50%),radial-gradient(at 97%,at 78%,#889dfb 0,transparent 50%),radial-gradient(at 19%,at 52%,#fea862 0,transparent 50%),radial-gradient(at 68%,at 16%,#f29cba 0,transparent 50%),radial-gradient(at 25%,at 1%,#5cb3e6 0,transparent 50%);background:radial-gradient(at 52% 13%,#a0c3f3 0,transparent 50%),radial-gradient(at 40% 33%,#9be8df 0,transparent 50%),radial-gradient(at 15% 92%,#63fdd9 0,transparent 50%),radial-gradient(at 97% 78%,#889dfb 0,transparent 50%),radial-gradient(at 19% 52%,#fea862 0,transparent 50%),radial-gradient(at 68% 16%,#f29cba 0,transparent 50%),radial-gradient(at 25% 1%,#5cb3e6 0,transparent 50%);background:var(--radial1);background-size:100% 200%;border-radius:50px;color:rgb(var(--near-black));display:flex;font-size:1.25em;height:100%;justify-content:center;left:50%;opacity:0;overflow:hidden;position:fixed;top:50%;transform:translate(-50%,-50%) scale(0);width:100%;z-index:100}@keyframes page_transition{0%{opacity:1;transform:translate(-50%,-50%) scale(0)}70%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}</style><link rel="preconnect" href="http://forthebadge.com"><link rel="preconnect" href="https://badges.frapsoft.com"><link rel="preconnect" href="https://mybinder.org"><link rel="preconnect" href="https://img.shields.io"><link rel="preconnect" href="http://img.shields.io"><link rel="preconnect" href="https://pete88b.github.io"><link rel="preconnect" href="https://static.mybinder.org"><link rel="preconnect" href="https://forthebadge.com"></head><body data-template="template_article"><div id="tracer"></div><svg xmlns="http://www.w3.org/2000/svg" id="svg_bg"></svg> <input type="checkbox" checked="checked" id="toggle_sitemap" aria-label="sitemap"><div id="sitemap" style="visibility:visible"><label tabindex="0" for="toggle_sitemap"><span>â‡¨</span> Sitemap <span>âœ•</span></label><hr><div id="sitemap-content"><a id="link_Home" href="./../index.html" title="Home">Home</a> <a id="link_00_datalabs" href="./../datalabs.html" title="00_datalabs">00 Datalabs </a><a id="link_01_scooter_exploration" href="./01_scooter_exploration.html" title="01_scooter_exploration">01 Scooter Explorati...</a><div id="toc">â€ƒ<a href="#Introduction" id="Introduction691253" style="animation:.5s ease-in-out 0s 2 normal none running wiggle;text-decoration:line-through">Introduction</a><br>â€ƒ<a href="#Local_File_A..." id="Local_File_A884808">Local File A...</a><br>â€ƒâ€ƒ<a href="#Convenience_..." id="Convenience_100781">Convenience ...</a><br>â€ƒâ€ƒ<a href="#File_Access_..." id="File_Access_171904">File Access ...</a><br>â€ƒ<a href="#Inspect_Depl..." id="Inspect_Depl550415">Inspect Depl...</a><br>â€ƒâ€ƒ<a href="#Load_Tracts" id="Load_Tracts169028">Load Tracts</a><br>â€ƒ<a href="#Inspect_Rout..." id="Inspect_Rout741529">Inspect Rout...</a><br>â€ƒ<a href="#Inspect_Orig..." id="Inspect_Orig855022">Inspect Orig...</a></div><a id="link_02_211_web_scraper" href="./02_211_web_scraper.html" title="02_211_web_scraper">02 211 Web Scraper </a><a id="link_03_nbdev_create_clean_publish" href="./03_nbdev_create_clean_publish.html" title="03_nbdev_create_clean_publish">03 Nbdev Create Clea... </a><a id="link_04_wordclouds" href="./04_wordclouds.html" title="04_wordclouds">04 Wordclouds </a><a id="link_05_amivi_meetup" href="./05_amivi_meetup.html" title="05_amivi_meetup">05 Amivi Meetup </a><a id="link_06_courts_mechanicalsoup" href="./06_courts_mechanicalsoup.html" title="06_courts_mechanicalsoup">06 Courts Mechanical... </a><a id="link_07_nb_2_html_tests" href="./07_nb_2_html_tests.html" title="07_nb_2_html_tests">07 Nb 2 Html Tests </a><a id="link_08_apis" href="./08_apis.html" title="08_apis">08 Apis </a><a id="link_09_looking_at_data" href="./09_looking_at_data.html" title="09_looking_at_data">09 Looking At Data</a></div></div><div id="page_transition"><p>Don't Look! I'm changing!</p></div><div id="toast_container"><p>URL Copied</p></div><div id="gradient_bg"></div><div id="header"><div id="header_bg_wrapper"><div id="header_bg"></div></div><h1><a href="./../index.html" id="Charles_Karp...194826">Charles Karpati</a> <span id="head_separator">| </span><a href="#title" id="title">Scooter Exploration</a></h1><p id="summary">In this chapter Scooter data is explored</p></div><div class="controls_container"><div id="breadcrumbs"><a href="./../index.html" id="Home791421">Home</a>/<a href="./../datalabs.html" id="Datalabs61657">Datalabs</a>/<a href="./01_scooter_exploration.html" id="_scooter_exp...332884">01_scooter_exploration</a></div><div><label for="lightmode" id="light"><input type="checkbox" id="lightmode" aria-label="lightmode"></label> <label for="expandmode" id="expand" style="display:none"><input type="checkbox" id="expandmode" aria-label="expandmode"></label><p id="music" title="Bauchamp - 127 bass with bug and perc.mp3"><span><audio controls="" controlslist="nodownload noplaybackrate" preload="none" loop="" src="./audio/title.mp3"></audio></span>Musical loops</p></div></div><div class="broider" id="content"><blockquote><p><a href="https://github.com/ellerbrock/open-source-badges/" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="505695"><img src="https://badges.frapsoft.com/os/v3/open-source.svg?v=103" alt="Open Source Love svg3"></a></p><p><a href="https://www.python.org/" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="757913"><img src="http://ForTheBadge.com/images/badges/made-with-python.svg" alt="forthebadge made-with-python"></a></p><p><a href="https://GitHub.com/Naereen/" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="637057"><img src="http://ForTheBadge.com/images/badges/built-with-love.svg" alt="ForTheBadge built-with-love"></a><a href="https://github.com/Naereen/StrapDown.js/blob/master/LICENSE" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="837285"><img src="https://img.shields.io/github/license/Naereen/StrapDown.js.svg" alt="GitHub license"></a></p><p><a href="http://ForTheBadge.com" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="225800"><img src="http://ForTheBadge.com/images/badges/powered-by-electricity.svg" alt="ForTheBadge powered-by-electricity"></a></p></blockquote><p>#hide %%capture !pip install nbdev from nbdev import * ! nbdev_upgrade</p><h2 id="Introduction" style="">Introduction</h2><a class="anchor" href="#Introduction" id="#Introduction" aria-label="Link to Introduction" onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a><p><a href="https://mybinder.org/v2/gh/bnia/datalabs/main?filepath=%2Fnotebooks%2F01_scooter_exploration.ipynb" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="640457"><img src="https://mybinder.org/badge_logo.svg" alt="Binder"></a><a href="https://colab.research.google.com/github/bnia/datalabs/blob/main/notebooks/01_scooter_exploration.ipynb" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="387099"><img src="https://pete88b.github.io/fastpages/assets/badges/colab.svg" alt="Binder"></a><a href="https://github.com/bnia/datalabs/tree/main/notebooks/01_scooter_exploration.ipynb" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="647120"><img src="https://pete88b.github.io/fastpages/assets/badges/github.svg" alt="Binder"></a><a href="https://github.com/ellerbrock/open-source-badges/" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="803253"><img src="https://badges.frapsoft.com/os/v3/open-source.svg?v=103" alt="Open Source Love svg3"></a></p><p><a href="https://github.com/bnia/datalabs/blob/main/LICENSE" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="83974"><img src="https://img.shields.io/npm/l/all-contributors.svg?style=flat" alt="NPM License"></a><a href="https://bnia.github.io" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="948818"><img src="http://img.shields.io/badge/Status-Active-green.svg" alt="Active"></a><a href="" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="26561"><img src="https://img.shields.io/github/last-commit/bnia/datalabs.svg?style=flat" alt="GitHub last commit"></a></p><p><a href="https://github.com/bnia/datalabs" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="75711"><img src="https://img.shields.io/github/stars/bnia/datalabs.svg?style=social&amp;label=Star" alt="GitHub stars"></a><a href="https://github.com/bnia/datalabs" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="641329"><img src="https://img.shields.io/github/watchers/bnia/datalabs.svg?style=social&amp;label=Watch" alt="GitHub watchers"></a><a href="https://github.com/bnia/datalabs" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="506507"><img src="https://img.shields.io/github/forks/bnia/datalabs.svg?style=social&amp;label=Fork" alt="GitHub forks"></a><a href="https://github.com/bnia/datalabs" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="987684"><img src="https://img.shields.io/github/followers/bnia.svg?style=social&amp;label=Follow" alt="GitHub followers"></a></p><p><a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20%E2%9C%A8%20colab%20by%20@bniajfi%20https://github.com/bnia/datalabs%20%F0%9F%A4%97" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="250039"><img src="https://img.shields.io/twitter/url/https/github.com/bnia/datalabs.svg?style=social" alt="Tweet"></a><a href="https://twitter.com/bniajfi" onclick="window.pingServer(this)" target="_blank" rel="noopener noreferrer nofollow" id="88829"><img src="https://img.shields.io/twitter/follow/bniajfi.svg?style=social" alt="Twitter Follow"></a></p><p>This chapter has brought to you in collaboration by Brian Kelly, Michael Vandi, Logan Shertz, and Charles Karpati.</p><p><strong>Dataset:</strong> Scooter data:</p><ul><li><div>Routes: 3 months (September to August 2019)</div></li><li><div>Deployment/</div></li><li><div>Routes</div></li><li><div>Trip origins-destinations by month</div></li></ul><h2 id="Local_File_A..." style="">Local File Access (Optional)</h2><a class="anchor" href="#Local_File_A..." id="#Local_File_A..." aria-label="Link to Local_File_A..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> # (Optional) Run this cell to gain access to Google Drive (Colabs only) from google.colab import drive # Colabs operates in a virtualized enviornment # Colabs default directory is at ~/content. # We mount Drive into a temporary folder at '~/content/drive' drive.mount('/content/drive')<p>File path's will vary</p># cd ./drive/'My Drive'/BNIA/'Scooter Use Data'/BNIA ! ls !cd ../ &amp;&amp; ls<h1 id="installs"><strong>Installs</strong></h1><h1 id="imports"><strong>Imports</strong></h1><h3 id="Convenience_..." style="">Convenience Functions</h3><a class="anchor" href="#Convenience_..." id="#Convenience_..." aria-label="Link to Convenience_..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> def getPointsInPolygons(pts, polygons, ptsCoordCol, polygonsCoordCol): count = 0 total = pts.size / len(pts.columns) # We're going to keep a list of how many points we find. pts_in_polys = [] # Loop over polygons with index i. for i, poly in polygons.iterrows(): # print('Searching for point within Geom:', poly ) # Keep a list of points in this poly pts_in_this_poly = [] # Now loop over all points with index j. for j, pt in pts.iterrows(): if poly[polygonsCoordCol].contains(pt[ptsCoordCol]): # Then it's a hit! Add it to the list, # and drop it so we have less hunting. pts_in_this_poly.append(pt[ptsCoordCol]) pts = pts.drop([j]) # We could do all sorts, like grab a property of the # points, but let's just append the number of them. pts_in_polys.append(len(pts_in_this_poly)) print('Found this many points within the Geom:', len(pts_in_this_poly) ) count = count + len(pts_in_this_poly) clear_output(wait=True) # Add the number of points for each poly to the dataframe. polygons['pointsinpolygon'] = gpd.GeoSeries(pts_in_polys) print( 'Total Points: ', total ) print( 'Total Points in Polygons: ', count ) print( 'Prcnt Points in Polygons: ', count / total ) return polygons<h3 id="File_Access_..." style="">File Access Convenience Functions</h3><a class="anchor" href="#File_Access_..." id="#File_Access_..." aria-label="Link to File_Access_..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> def findFile(root, file): for d, subD, f in os.walk(root): if file in f: return "{1}/{0}".format(file, d) break # To 'import' a script you wrote, map its filepath into the sys def addPath(root, file): sys.path.append(os.path.abspath( findFile( './', file) ))<h2 id="Inspect_Depl..." style="">Inspect Deployment Data</h2><a class="anchor" href="#Inspect_Depl..." id="#Inspect_Depl..." aria-label="Link to Inspect_Depl..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> #@markdown Forms support many types of fields. fileName = "Trip Origins by block September 2019.geojson" #@param ['Daily Deployment average by block August 2019.csv', 'Daily Deployment average by block December 2019.csv', 'Daily Deployment average by block November 2019.csv', 'Daily Deployment average by block October 2019.csv', 'Daily Deployment average by block September 2019.csv', 'Trip Destinations by block August 2019.geojson','Trip Destinations by block December 2019.geojson','Trip Destinations by block November 2019.geojson', 'Trip Destinations by block October 2019.geojson', 'Trip Destinations by block September 2019.geojson', 'Trip Origins by block August 2019.geojson','Trip Origins by block December 2019.geojson','Trip Origins by block November 2019.geojson','Trip Origins by block October 2019.geojson','Trip Origins by block September 2019.geojson'] #@markdown --- gdf.head() point_df['centroids'] = df.centroid point_df = point_df.drop(columns = 'geometry') point_df = point_df.set_geometry('centroids') point_df.head(1) point_df.plot(marker='o', color='red', markersize='value') polygonsCoordCol = 'geometry', polygonsLabel = 'CSA2010') pointsInPolys.plot(column='value', legend=True, markersize = 1) gdf.shape #DataFrame.size	Return an int representing the number of elements in this object. gdf.size # DataFrame.ndim	Return an integer representing the number of axes/array dimensions. gdf.ndim # Note Used : # DataFrame.axes	Return a list representing the axes of the DataFrame. gdf.dtypes # Return unbiased kurtosis over requested axis using Fisherâ€™s definition of kurtosis (kurtosis of normal == 0.0). gdf.kurtosis()<h3 id="Load_Tracts" style="">Load Tracts</h3><a class="anchor" href="#Load_Tracts" id="#Load_Tracts" aria-label="Link to Load_Tracts" onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> pd.set_option('display.expand_frame_repr', False) pd.set_option('display.precision', 2) from IPython.core.interactiveshell import InteractiveShell InteractiveShell.ast_node_interactivity = "all" pd.set_option('max_colwidth', 20) in_crs = 2248 # The CRS we recieve our data. out_crs = 4326 # The CRS we would like to have our data represented as. geom = 'geometry' # The column where our spatial information lives. # A Url to load boundariesBaltimoreTractsNoWater2010 = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ8xXdUaT17jkdK0MWTJpg3GOy6jMWeaXTlguXNjCSb8Vr_FanSZQRaTU-m811fQz4kyMFK5wcahMNY/pub?gid=886223646&amp;single=true&amp;output=csv" # Read in the dataframe gdf = pd.read_csv(boundariesBaltimoreTractsNoWater2010) # Convert the geometry column datatype from a string of text into a coordinate datatype. gdf['geometry'] = gdf['geometry'].apply(lambda x: loads( str(x) )) # Process the dataframe as a geodataframe with a known CRS and geom column. gdf = GeoDataFrame(gdf, crs=in_crs, geometry='geometry')<p>Ensure merge is on consistent datatypes</p>scooterdf['nameChange2'] = scooterdf['nameChange2'].astype(str)<p>Perform the merge</p># gdf.drop(columns='geometry').to_csv('./boundsdf.csv', index=False)<h2 id="Inspect_Rout..." style="">Inspect Routes Data</h2><a class="anchor" href="#Inspect_Rout..." id="#Inspect_Rout..." aria-label="Link to Inspect_Rout..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> columnName = "streetname" #@param ['id', 'color', 'streetname', 'trip_count_sum', 'trip_count_average', 'trip_count_percent'] gdf = gpd.read_file( findFile('./', fileName) ) gdf.head() stroke='white', strokeWidth=2 ).encode( color=alt.value('#eee'), ).properties( width=700, height=500 )""" # GeoDataFrame could be passed as usual pd.DataFrame city = alt.Chart(baltimore).mark_geoshape( ).project( ).encode( color='tpop10', # shorthand infer types as for regular pd.DataFrame tooltip='CSA2010' # GeoDataFrame.index is accessible as id ).properties( width=500, height=300 ) routes = alt.Chart(gdf).mark_geoshape( filled=False, strokeWidth=2 ) city + routes<p>Clean the gdf of empties.</p>gdf = gdf[~gdf.is_empty]<p>Now get the extremities; this will take a minute.</p>gdf['lefty'], gdf['leftx'],gdf['righty'], gdf['rightx'] = zip(*gdf["geometry"].map(split))<p>Split the gdf into a left and right dataset</p>gdf_left = gdf_left.drop(columns = ['geometry','rightx', 'righty']) gdf_right= gdf.copy() gdf_right = gdf_right.drop(columns = ['geometry','leftx', 'lefty', 'streetname', 'trip_count_sum', 'trip_count_average', 'trip_count_percent', 'color' ])<p>The coordinate variables of object type will cause problems.</p><p>Let's go ahead and coerce a correction.</p>gdf_left['lefty']=pd.to_numeric(gdf_left['lefty'], errors='coerce') gdf_right['rightx']=pd.to_numeric(gdf_right['rightx'], errors='coerce') gdf_left['leftx']=pd.to_numeric(gdf_left['leftx'], errors='coerce')<p>Now we can view the results</p><p>Save these csv's because it took a minute to get to where we are now.</p>gdf_left.to_csv('leftRouts.csv')<p>Convert the datasets to geodataframes for further exploration!</p>#temp_gdf = gpd.GeoDataFrame( gdf_right, geometry=gpd.points_from_xy(gdf_right.rightx, gdf_right.righty) ) #temp_gdf.head() # Alternately this could work.. unfinished.. but wkt.loads can make a Point from text # gdf_right['strCol']=gdf_right['rightx'].astype(str) # gdf_right['geometry'] = gdf_right['strCol'].apply(wkt.loads) left_csaMap = readInGeometryData(url=gdf_left, porg='p', geom= False, lat= 'leftx', lng= 'lefty', revgeocode=False, save=False, in_crs=4268, out_crs=4268) right_csaMap = readInGeometryData(url=gdf_right, porg='p', geom= False, lat= 'rightx', lng= 'righty', revgeocode=False, save=False, in_crs=4268, out_crs=4268) right_points_in_poly = getPointsInPolygons(right_csaMap, baltimore, 'geometry', 'geometry') import geopandas as gpd import gpdvega # GeoDataFrame could be passed as usual pd.DataFrame chart = alt.Chart(right_points_in_poly).mark_geoshape( ).project( ).encode( color='pointsinpolygon', # shorthand infer types as for regular pd.DataFrame tooltip=['CSA2010','pointsinpolygon'] # GeoDataFrame.index is accessible as id ).properties( width=500, height=300 ) routes = alt.Chart(gdf).mark_geoshape( filled=False, strokeWidth=2 ) chart + routes chart.save(fileName[:-8]+'.html', embed_options={'renderer':'svg'}) chart.save(fileName[:-8]+'.json')<h2 id="Inspect_Orig..." style="">Inspect Origins-Destinations Data</h2><a class="anchor" href="#Inspect_Orig..." id="#Inspect_Orig..." aria-label="Link to Inspect_Orig..." onclick="navigator.clipboard.writeText('https://charleskarpati.com/datalabs/01_scooter_exploration.html'); w.toast?.();"></a> #@markdown Forms support many types of fields. fileName = 'Trip Destinations by block August 2019.geojson' #@param ['Trip Destinations by block August 2019.geojson', 'Trip Destinations by block December 2019.geojson', 'Trip Destinations by block November 2019.geojson', 'Trip Destinations by block October 2019.geojson', 'Trip Destinations by block September 2019.geojson', 'Trip Origins by block August 2019.geojson', 'Trip Origins by block December 2019.geojson', 'Trip Origins by block November 2019.geojson', 'Trip Origins by block October 2019.geojson', 'Trip Origins by block September 2019.geojson'] columnName = "name" #@param ['name', 'value', 'color', 'radius'] #@markdown --- gdf = gpd.read_file( findFile('./', fileName) ) gdf.plot( column = columnName) gdf.columns gdf[['id','name', 'value', 'color', 'radius']].head(5)</div><div id="footer"><p id="thanks">Thank's for visiting! - <a href="./../legal.html" id="Terms_of_use858567">Terms of use</a></p><div id="footer_bg_wrapper"><div id="footer_bg"></div></div></div><script>!function(){"use strict";var e,t,n,r,o={},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&r&&n;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},i.d(o,a),o},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return"chunk."+({156:"convert",233:"template",787:"route"}[e]||e)+"."+{156:"0fd66744a23aa67a2246",212:"673bf52fa7e2c8b9d593",233:"b5f7e5b48f05aa85c334",787:"a4ff25e79a091ef6a5b6"}[e]+".js"},i.miniCssF=function(e){return"main.css"},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="name:",i.l=function(e,t,o,a){if(n[e])n[e].push(t);else{var u,c;if(void 0!==o)for(var f=document.getElementsByTagName("script"),l=0;l<f.length;l++){var s=f[l];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")==r+o){u=s;break}}u||(c=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.setAttribute("data-webpack",r+o),u.src=e),n[e]=[t];var d=function(t,r){u.onerror=u.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),c&&document.head.appendChild(u)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",function(){var e={179:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var a=i.p+i.u(t),u=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],u=n[1],c=n[2],f=0;if(a.some((function(t){return 0!==e[t]}))){for(r in u)i.o(u,r)&&(i.m[r]=u[r]);c&&c(i)}for(t&&t(n);f<a.length;f++)o=a[f],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkname=self.webpackChunkname||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),window.w=window,w.oldRoute=location.pathname,w.isLocal||=!w.content,w.preRendering=/ReactSnap/.test(navigator.userAgent),w.preRendering||(console.log("%c Like what you see?","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 red , 6px 6px 0 green , 9px 9px 0 blue"),console.log("%c Contact me: charleskarpati@gmail.com","color: blue; font-family:sans-serif; font-size: 20px")),w.pingServer=async(e=!1)=>{w.content&&navigator.sendBeacon("https://ping.charleskarpati.com/",`{"from":"${oldRoute||location.href}","to":"${e?.href||e?.target?.href||oldRoute}"}`)},!isLocal&&w.pingServer(),w.redirect=async(e=!1)=>{e?.preventDefault?.(),!w.navEvent&&({handleRoute:w.handleRoute,navEvent:w.navEvent}=await i.e(787).then(i.bind(i,376))),"click"==e.type?(history.pushState({},"",e.target.href),navEvent()):handleRoute()},addEventListener("popstate",redirect)}()</script><script>function loadLazy(){w.loadOnce&&(w.loadOnce=!0)||((document.head||d).appendChild(document.createElement("script")).src=origin+"/templates/template_article_lazy.js")}[[["scroll","mousedown","touchstart"],w,loadLazy,{once:!0}]].forEach((e=>e[0].forEach((t=>e[1].addEventListener(t,e[2],e[3]||{passive:!1}))))),w.activeHeader=null,w.observer=new IntersectionObserver((e=>{e.forEach((e=>{let t=e.target,n="0.5s ease-in-out 0s 2 normal none running wiggle",a=t.getBoundingClientRect().top,o="SUMMARY"==t.parentNode?.nodeName&&t.parentNode.style||t.style;if(o.animation=n,!e.isIntersecting)return o.animation="";if(a<300||a>300){w.activeHeader&&(w.activeHeader.style.textDecoration="none");let e=document.querySelector(`#sitemap a[href="#${t.id}"]`);e&&(e.style.animation=n,e.style.textDecoration="line-through"),w.activeHeader=e}}))})),(w.loadObserver=e=>{document.querySelectorAll("h2,h3,h4").forEach((e=>observer.observe(e)))})()</script><style>body[\:has\(\%23sitemap\[focus-within\]\)]{overscroll-behavior-y:contain}body:has(#sitemap[focus-within]){overscroll-behavior-y:contain}body[\:has\(\%23sitemap\:focus-within\)]{overscroll-behavior-y:contain}body:has(#sitemap:focus-within){overscroll-behavior-y:contain}#sitemap{backdrop-filter:blur(2px) saturate(100%);-webkit-backdrop-filter:blur(2px) saturate(100%);background-color:rgba(var(--foreground),.6);border-radius:.7rem;border-radius:12px;box-shadow:3px 2px 5px rgb(var(--background)),-3px -2px 20px rgb(var(--near-white)),inset 0 0 10px rgb(var(--near-white));left:0;min-width:8em;overflow:hidden;overflow-x:hidden;padding:0 1rem 1rem;position:fixed;top:0;z-index:999}#toggle_sitemap{visibility:hidden}#toggle_sitemap:not(:checked)~#sitemap{animation:collapse 1s forwards,glow 6s linear infinite}#toggle_sitemap:checked~#sitemap{animation:expand 1s forwards,pulse 6s linear infinite}@keyframes glow{50%{box-shadow:3px 2px 20px rgb(var(--near-white)),-3px -2px 20px rgb(var(--background)),inset 0 0 10px rgb(var(--background))}}@keyframes collapse{0%{max-height:75svh}to{max-height:3em}}@keyframes expand{to{max-height:75svh}0%{max-height:3em}}#sitemap>label{color:rgb(var(--near-black));cursor:grab;display:flex;justify-content:space-between;line-height:3em;width:-webkit-fill-available}#sitemap>label:hover{text-shadow:1px 1px 45px rgb(var(--near-black))}#toggle_sitemap:not(:checked)~#sitemap>label>span{animation:dismiss 1s forwards}#toggle_sitemap:checked~#sitemap>label>span{animation:reveal .5s forwards}#sitemap>label>span:nth-child(2){--rotate:0deg}#sitemap>label>span:nth-child(3){--rotate:45deg}@keyframes reveal{0%{transform:rotate(var(--rotate))}to{transform:rotate(90deg)}}@keyframes dismiss{0%{transform:rotate(90deg)}to{transform:rotate(var(--rotate))}}#sitemap-content{display:grid;max-height:calc(75vh - 6em);overflow-x:hidden}#sitemap-content>a{display:inherit;width:-moz-fit-content;width:fit-content}#sitemap-content>a:hover{animation:shake 1s linear infinite alternate}#currentPage:hover{color:rgb(var(--near-black))}#currentPage+div>a:hover{text-decoration:line-through}#currentPage+div{display:block;font-size:1em;line-height:1em}#currentPage:hover{animation:gradient 4s linear infinite alternate,shake 1s linear infinite alternate}#currentPage{animation:gradient 4s linear infinite alternate;background-image:var(--radial1);background-size:100% 400%;border-radius:5px}@keyframes shake{0%{transform:translate(0);-webkit-transform:translate(0)}50%{transform:translate(4px);-webkit-transform:translate(4px)}to{transform:translate(0);-webkit-transform:translate(0)}}</style></body></html>