"use strict";(self.webpackChunkkarpatic=self.webpackChunkkarpatic||[]).push([[72],{720:function(e,t,l){l.r(t),l.d(t,{convertNb:function(){return convertNb},get_metadata:function(){return get_metadata},nb2json:function(){return nb2json}});var n=l(952);function makeDetails(e,t){return"<details "+(t?"open":"")+"> <summary>Click to toggle</summary> "+e+"</details>"}function replaceAndLog(e,t,l){return e.replace(t,(function(e,t){return l.replace?.("$1",t)||l(e,t)}))}let r=!1,a=[];async function nb2json(e,t=!1){a=[],r=!1;let l=e;"undefined"==typeof process||e.startsWith("http")||(l=`http://localhost:8085/${e}.ipynb`);let n=await fetch(l,{headers:{"Content-Type":"application/json; charset=utf-8"}});const o=await n.json(),c=get_metadata(o.cells[0]);c.filename=e.split("/")[e.split("/").length-1].toLowerCase().replaceAll(" ","_");let s=convertNb(o.cells.slice(1),c,t).flat().join(" ");return t&&a.length,c.pyCode=a,(c.prettify||r)&&(s+='\n  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"><\/script>\n  <link rel="stylesheet" href="https://cdn.rawgit.com/google/code-prettify/master/styles/desert.css"/>\n  '),{meta:c,content:function replaceEmojis(e){return(e=(e=(e=(e=(e=e.replaceAll("ðŸ™‚","&#1F642")).replaceAll("ðŸ˜³","&#128563")).replaceAll("â€ƒ","&#8195")).replaceAll("ðŸ‘·","&#128119")).replaceAll("ðŸ§¡","&#129505")).replaceAll("ðŸ’–","&#128150")}(s)}}function get_metadata(e){const t={};for(const l of e.source)if(l.startsWith("#"))t.title=l.replaceAll("\n","").replaceAll("# ","",2);else if(l.startsWith(">"))t.summary=l.replaceAll("\n","").replaceAll("> ","",1);else if(l.startsWith("-")){const e=l.slice(l.indexOf("- ")+2,l.indexOf(": ")),n=l.slice(l.indexOf(": ")+2).replaceAll("\n","").trim();t[e]=n}return t}function convertNb(e,t,l=!1){l&&console.group("- convertNb Running");let o=e.map((e=>function cleanCell(e,t,l=!1){let o;o="markdown"==e.cell_type?function processMarkdown(e){let t=n.xI.parse(e);return t=t.replace(/\n/g,""),t=replaceAndLog(t,/<pre><code>([\s\S]*?)<\/code><\/pre>/g,(()=>{r=!0})),t=replaceAndLog(t,/<code>([\s\S]*?)<\/code>/g,(()=>{r=!0})),t=replaceAndLog(t,/<a\s+(?:[^>]*?\s+)?href="(.*?)"/g,((e,t)=>(t.startsWith("./")||(e+=' target="_blank" rel="noopener noreferrer nofollow"'),e))),t=function convertNotes(e){let t=0;return e.replace(/(<p)(.*?)\(\(\((.*?)::(.*?)\)\)\)(.*?)(<\/p>)/g,((e,l,n,r,a,o,c)=>{t++;let s=`<label  tabindex="0" for='note${t}' class='notelbl'>[${t}]</label>`;return`<div>\n      <input type='checkbox' id='note${t}' class='notebox'>\n      ${l}${n}${s}${o}${c}\n      <aside>${s} ${a} </aside> \n    </div>`}))}(t),t}(e.source.join(" ")):function processCode(e,t,l=!1){let n=[],r=[];if(e.source.length){let l=e.source;r=function getFlags(e){const t=["#collapse_input_open","#collapse_input","#collapse_output_open","#collapse_output","#hide_input","#hide_output","#hide","%%capture","%%javascript","%%html","#export"],l=e.split(/\s+/);return t.filter((e=>l.includes(e)))}(l[0]),r.length>0&&(l=l.slice(1)),l=function processSource(e,t,l,n=!1){"#export"==t[t.length-1]&&a.push(e);for(let e of t){if(["#hide","#hide_input","%%javascript","%%html","%%capture"].includes(e))return""}l.prettify&&(e=`<pre class='prettyprint'>${e}</pre>`);let r=t&&!!t.includes("#collapse_input_open");if(r){for(let l of t)e=(e=e.replaceAll(l+"\r\n","")).replaceAll(l+"\n",""),"#collapse_input_open"==l?e=makeDetails(e,!0):"#collapse_input"==l&&(e=makeDetails(e,!1));return e}}(l.join(" "),r,t),n.push(l)}if(e.outputs.length)for(let t of e.outputs)n.push(processOutput(t,r));return n}(e,t,l);return o}(e,t,l)));return l&&console.groupEnd(),o}function processOutput(e,t,l=!1){if("error"==e.output_type)return"";if("stream"==e.output_type){if("stderr"==e.name)return"";e.data={"text/html":e.text}}const n=Object.keys(e.data);n.includes("text/html")?e=(e=e.data["text/html"]).join(""):n.includes("application/javascript")?e="<script>"+e.data["application/javascript"]+"<\/script>":n.includes("image/png")?e='<img src="data:image/png;base64,'+e.data["image/png"]+"\" alt='Image Alt Text'>":n.includes("text/plain")&&(e=/<Figure/.test(e.data["text/plain"])?"":e.data["text/plain"]);for(let l of t){try{e=(e=e.replaceAll(l+"\r\n","")).replaceAll(l+"\n","")}catch{}"#collapse_output_open"==l&&(e=makeDetails(e,!0)),"#collapse_output"==l&&(e=makeDetails(e,!1)),"#hide_output"==l&&(e=""),"#hide"==l&&(e="")}return e}}}]);